<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Lecture 07</title>
    <meta charset="utf-8" />
    <meta name="author" content="Bruno Conte" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/leaflet/leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet/leaflet.js"></script>
    <link href="libs/leafletfix/leafletfix.css" rel="stylesheet" />
    <script src="libs/proj4/proj4.min.js"></script>
    <script src="libs/Proj4Leaflet/proj4leaflet.js"></script>
    <link href="libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-binding/leaflet.js"></script>
    <link rel="stylesheet" href="xaringan-themer-bse.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




&lt;!-- class: inverse, center, title-slide, middle --&gt;
class: center, middle

&lt;style&gt;
g { color: rgb(0,130,155) }
r { color: rgb(174,77,41) }
y { color: rgb(177,148,40) }
&lt;/style&gt;


# Lecture 07: Geospatial Data Sciences

# and Economic Spatial Models

## &lt;img src="figs/bse_primary_logo.png" style="width: 35%" /&gt;&lt;br&gt;&lt;br&gt;Bruno Conte

## 19/Feb/2024

---

# Geospatial Data and Spatial Models: Schedule

1. ~~Introduction to (spatial) data and programming in `R`~~ &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; **[08/Jan/2024]**

2. ~~Week 2-4: Vector spatial data~~ &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; **[15 - 29/Jan/2024]**

3. Week 5-7: Raster spatial data + (basic) interactive tools &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; **[05 - 19/Feb/2024]**
    - ~~Week 5: Raster basics and unary operations using `sf` and `terra`~~
    - ~~Week 6: Vector-raster operations~~
    - Week 7: Interactive tools with `leaflet` and `shiny`

4. Week 8-10: Spatial models and applications with data &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; **[26/Feb - 11 Mar/2024]**&lt;br&gt; &lt;br&gt;

5. &lt;span style="color: rgb(177,148,40)"&gt;Take-home exam&lt;/span&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; **[??/??/2024]**

---

# Main references for this class

1. Agafonkin, V., 2023 &lt;g&gt;**Leaflet for R**&lt;/g&gt;; in: [&lt;u&gt;https://rstudio.github.io/leaflet/&lt;/u&gt;](https://rstudio.github.io/leaflet/)

2. Lovelace, R., Nowosad, J. and Muenchow, J., 2019. Geocomputation with R. Chapman and Hall/CRC.

3. Pebesma, E., 2018. Simple Features for R: Standardized Support for Spatial Vector Data. The R Journal 10 (1), 439-446

4. Wickham, H. and Grolemund, G., 2016. R for data science: import, tidy, transform, visualize, and model data. " O'Reilly Media, Inc.".

---

# Geospatial data and interactive tools

.pull-left[

So far, course content focused on data processing and &lt;g&gt;static data visualization&lt;/g&gt;

- Loading and processing spatial data

- &lt;r&gt;Visualizing&lt;/r&gt; spatial data in maps
  
]
.pull-right[
&lt;img src="figs/class03/unnamed-chunk-11-1.png" style="width: 100%" /&gt;
]

---

# Geospatial data and interactive tools

.pull-left[

So far, course content focused on data processing and &lt;g&gt;static data visualization&lt;/g&gt;

- Loading and processing spatial data

- &lt;r&gt;Visualizing&lt;/r&gt; spatial data in maps

- &lt;y&gt;Investigating data patterns&lt;/y&gt; with plots (e.g., line, densities)
  
]
.pull-right[
&lt;img src="figs/raster08.png" style="width: 100%" /&gt;
]

---

# Geospatial data and interactive tools

.pull-left[

&lt;u&gt;Interactive tools&lt;/u&gt; with `leaflet`:

* Create and insert &lt;r&gt;interactive dashboards&lt;/r&gt; in `Rmarkdowns`

* Develop [&lt;u&gt;interactive apps&lt;/u&gt;](https://shiny.posit.co/r/gallery/interactive-visualizations/superzip-example/) if combined with `shiny` (not in this course!)
  
]
--
.pull-right[
&lt;img src="figs/class03/unnamed-chunk-11-1.png" style="width: 100%" /&gt;
]

---

# Geospatial data and interactive tools

.pull-left[

&lt;u&gt;Interactive tools&lt;/u&gt; with `leaflet`:

* Create and insert &lt;r&gt;interactive dashboards&lt;/r&gt; in `Rmarkdowns`

* Develop [&lt;u&gt;interactive apps&lt;/u&gt;](https://shiny.posit.co/r/gallery/interactive-visualizations/superzip-example/) if combined with `shiny` (not in this course!)

&lt;u&gt;This class&lt;/u&gt;: geospatial data + `leaflet` basics

* Embedding `sf` data into `leaflet` dashboards

* Customizing visualization

* &lt;y&gt;Before:&lt;/y&gt; is it (really) useful?
  
]
.pull-right[
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c7e9255212793ac0e54c" style="width:504px;height:504px;"></div>
<script type="application/json" data-for="htmlwidget-c7e9255212793ac0e54c">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[51.52916347,51.49960695,51.52128377,51.53005939,51.49313,51.51811784,51.53430039,51.52834133,51.5073853,51.50597426,51.52395143,51.52168078,51.51991453,51.52994371,51.51772703,51.52635795,51.5216612,51.51477076,51.52505093,51.52773634,51.53007835,51.5222641,51.51943538,51.51908011,51.5288338,51.52728093,51.51382102,51.52351808,51.513735,51.52915444,51.52953709,51.52469624,51.5341235,51.50173726,51.49159394,51.4973875,51.5263778,51.52127071,51.52001715,51.53099181,51.52026,51.51073687,51.522511,51.507131,51.52334476,51.51248445,51.50706909,51.52867339,51.52671796,51.52295439,51.5099923,51.52174785,51.51707521,51.52058381,51.52334672,51.52452699,51.53176825,51.52644828,51.49738251,51.4907579,51.53089041,51.50946212,51.52522753,51.51795029,51.51882555,51.52059681,51.5262363,51.53136059,51.5154186,51.52352001,51.52572618,51.48591714,51.53219984,51.52559505,51.52341837,51.52486887,51.50069361,51.52025302,51.514274,51.50963938,51.51593725,51.50064702,51.48947903,51.51646835,51.51858757,51.5262503,51.53301907,51.49368637,51.49889832,51.53440868,51.49506109,51.5208417,51.53095071,51.49792478,51.52554222,51.51457763,51.49043573,51.51155322,51.51340693,51.50472376,51.51159481,51.51552971,51.51410514,51.52600832,51.49812559,51.51563144,51.53304322,51.5100172,51.51580998,51.49646288,51.52451738,51.51423368,51.51449962,51.49288067,51.49582705,51.52589324,51.51573534,51.51891348,51.52111369,51.52836014,51.49654462,51.50069491,51.51782144,51.51700801,51.49536226,51.5118973,51.50950627,51.53300545,51.52364804,51.50136494,51.504904,51.52326004,51.51196176,51.49087475,51.51227622,51.49488108,51.52096262,51.51530805,51.49372451,51.4968865,51.48894022,51.50074359,51.48836528,51.51494305,51.49211134,51.48478899,51.49705603,51.51213691,51.49217002,51.51183419,51.50379168,51.49586666,51.49443626,51.50039792,51.49085368,51.51461995,51.50663341,51.49234577,51.51760685,51.4931848,51.515607,51.517932,51.50185512,51.49395092,51.50040123,51.51474612,51.52784273,51.4916156,51.49121192,51.50486,51.512529,51.52174384,51.51791921,51.49616092,51.48985626,51.5129118,51.49941247,51.52202903,51.52071513,51.48805753,51.51733558,51.49247977,51.5165179,51.53166681,51.48997562,51.50311799,51.51251523,51.50581776,51.50462759,51.50724437,51.50368837,51.50556905,51.51048489,51.51492456,51.5225965,51.51236389,51.51821864,51.52659961,51.518144,51.518154,51.50135267,51.52505151,51.49358391,51.51681444,51.49464523,51.50658458,51.50274025,51.52683806,51.51906932,51.49094565,51.51615461,51.48971651,51.49016361,51.49066456,51.49481649,51.50275704,51.49148474,51.51476963,51.50935342,51.50844614,51.52891573,51.50742485,51.50654321,51.50669284,51.49396755,51.51501025,51.50777049,51.53450449,51.49571828,51.51838043,51.5084448,51.5233534,51.52443845,51.50545935,51.52200801,51.49096258,51.51611887,51.4853572,51.52285301,51.530052,51.50645179,51.49859784,51.489932,51.518908,51.5046364,51.53404294,51.53051587,51.52557531,51.51362054,51.52248185,51.50143293,51.50494561,51.5136846,51.5134891,51.49874469,51.51422502,51.52644342,51.51595344,51.50102668,51.49206037,51.49320445,51.50082346,51.4863434,51.53583617,51.50144456,51.50613324,51.49671237,51.52004497,51.50930161,51.50315739,51.5034938,51.51862243,51.490083,51.49580589,51.51906446,51.49914063,51.5272947,51.52367314,51.49236962,51.50923022,51.51678023,51.48483991,51.49888404,51.49815779,51.488226,51.50029631,51.49363156,51.49612799,51.50227992,51.49398524,51.50501351,51.51475963,51.466907,51.50295379,51.51211869,51.48677988,51.51816295,51.50990837,51.49907558,51.50963123,51.4908679,51.51918144,51.53088935,51.51734403,51.50088934,51.52536703,51.49768448,51.49679128,51.51004801,51.52702563,51.49357351,51.49785559,51.526293,51.523196,51.49652013,51.50908747,51.53266186,51.53114,51.53095,51.53589283,51.51641749,51.52085887,51.49334336,51.50860544,51.505044,51.51196803,51.504942,51.51108452,51.51175646,51.5333196,51.51444134,51.50810309,51.53692216,51.528246,51.48802358,51.50013942,51.51217033,51.51196,51.5017154373867,51.529423,51.486965,51.49459148,51.506767,51.486575,51.494412,51.520994,51.51643491,51.49782999,51.49675303,51.50391972,51.536264,51.5291212008901,51.519656,51.530344,51.5109192966489,51.5173721,51.50024195,51.520205,51.49775,51.515208,51.49980661,51.50402793,51.50194596,51.49188409,51.50535447,51.49559291,51.51431171,51.50686435,51.51953043,51.50935171,51.51310333,51.496481,51.51352755,51.49369988,51.51070161,51.51013066,51.521776,51.51066202,51.49942855,51.51733427,51.524826,51.492462,51.51809,51.51348,51.502319,51.52261762,51.517703,51.528187,51.52289229,51.51689296,51.50204238,51.49418566,51.512303,51.51222,51.51994326,51.493146,51.519968,51.49337264,51.488105,51.485821,51.504043,51.504044,51.49456127,51.490491,51.533379,51.493072,51.51397065,51.499917,51.48902,51.534474,51.496957,51.524564,51.488852,51.51824,51.488124,51.5338,51.483145,51.495656,51.510101,51.515256,51.52568,51.52388,51.528936,51.493381,51.50623,51.511088,51.515975,51.504719,51.505697,51.508447,51.487679,51.49447,51.538071,51.542138,51.504749,51.535179,51.516196,51.516,51.541603,51.534776,51.51417,51.53558,51.534464,51.523538,51.521564,51.513757,51.530535,51.533283,51.529452,51.496137,51.498125,51.499041,51.489096,51.49109,51.521889,51.527152,51.5128711,51.487129,51.509843,51.51328,51.528828,51.531127,51.525645,51.511811,51.506946,51.513074,51.508622,51.522507,51.524677,51.50196,51.528169,51.52512,51.527058,51.519265,51.522561,51.502635,51.520893,51.496454,51.520398,51.517475,51.528692,51.519362,51.517842,51.509303,51.511066,51.532091,51.5142228,51.516204,51.500088,51.5112,51.532513,51.528224,51.518811,51.526041,51.534137,51.525941,51.51549,51.511654,51.504714,51.503143,51.503802,51.507326,51.486892,51.508896,51.530326,51.50357,51.528222,51.531864,51.537349,51.51793,51.508981,51.531091,51.528302,51.506613,51.514115,51.509591,51.526153,51.539957,51.517428,51.509474,51.498386,51.49605,51.521564,51.503447,51.511542,51.535678,51.513548,51.502661,51.51601,51.493978,51.501391,51.511624,51.518369,51.51746,51.499286,51.509943,51.521905,51.509158,51.51616,51.53213,51.503083,51.506256,51.539099,51.485587,51.53356,51.497304,51.528869,51.527607,51.511246,51.48692917,51.497622,51.51244,51.490645,51.50964,51.52959,51.487196,51.53256,51.506093,51.5171,51.531066,51.513875,51.493267,51.472817,51.473471,51.494499,51.485743,51.481747,51.514767,51.472993,51.477839,51.538792,51.520331,51.504199,51.468814,51.491093,51.46512358,51.48256792,51.50646524,51.46925984,51.50403821,51.47817208,51.4768851,51.48102131,51.47107905,51.47625965,51.4737636,51.47518024,51.46086446,51.50748124,51.46193072,51.4729184,51.47761941,51.48438657,51.4687905,51.46881971,51.45995384,51.47073264,51.4795017,51.47053858,51.48959104,51.49434708,51.48606206,51.46706414,51.45787019,51.46663393,51.48357068,51.47286577,51.49824168,51.46916161,51.5190427,51.48373225,51.50173215,51.49886563,51.50035306,51.46904022,51.48180515,51.51687069,51.48089844,51.51148696,51.47084722,51.48267821,51.48294452,51.46841875,51.4996806,51.47729232,51.46437067,51.49087074,51.51632095,51.48498496,51.51323001,51.474376,51.46108367,51.49610093,51.5015946,51.49422354,51.47614939,51.46718562,51.475089,51.4646884,51.46517078,51.53546778,51.46348914,51.47787084,51.46866929,51.46231278,51.47453545,51.47768469,51.47303687,51.48810829,51.46506424,51.45475251,51.46067005,51.48814438,51.49760804,51.46095151,51.45922541,51.47047503,51.47946386,51.54211855,51.464786,51.53638435,51.48728535,51.53639219,51.53908372,51.5366541,51.47696496,51.47287627,51.52868155,51.51505991,51.45682071,51.45971528,51.50215353,51.49021762,51.46161068,51.46321128,51.47439218,51.48335692,51.51854104,51.54100708,51.47311696,51.51563007,51.51542791,51.53658514,51.53571683,51.53642464,51.48724429,51.53603947,51.52458353,51.46822047,51.45799126,51.47732253,51.47505096,51.47569809,51.46199911,51.47893931,51.49208492,51.47727637,51.50630441,51.50542628,51.46230566,51.46489445,51.47993289,51.47514228,51.48176572,51.51092871,51.5129814,51.51510818,51.46079243,51.46745485,51.47816972,51.4795738,51.48796408,51.53727795,51.53932857,51.4710956,51.51612862,51.45816465,51.49263658,51.5129006,51.48512191,51.47515398,51.48795853,51.51787005,51.52456169,51.52526975,51.48321729,51.50070305,51.52059714,51.46239255,51.46760141,51.45752945,51.45705988,51.46134382,51.473611,51.491026,51.509224,51.47250956,51.511891,51.470131,51.496664,51.460333,51.4619230679],[-0.109970527,-0.197574246,-0.084605692,-0.120973687,-0.156876,-0.144228881,-0.1680743,-0.170134484,-0.096440751,-0.092754157,-0.122502346,-0.130431727,-0.136039674,-0.123616824,-0.127854211,-0.125979294,-0.109006325,-0.12221963,-0.131161087,-0.135273468,-0.13884627,-0.114079481,-0.119123345,-0.124678402,-0.132250369,-0.11829517,-0.107927706,-0.143613641,-0.193487,-0.093421615,-0.083353323,-0.084439283,-0.129386874,-0.184980612,-0.192369256,-0.197245586,-0.078130921,-0.0755789,-0.083911168,-0.093903825,-0.157183945,-0.144165239,-0.162298,-0.06691,-0.183846408,-0.099141408,-0.145904427,-0.087459376,-0.104298194,-0.094934859,-0.143495266,-0.094475072,-0.086685542,-0.154701411,-0.120202614,-0.079248081,-0.114329032,-0.172190727,-0.089446947,-0.106323685,-0.089782579,-0.124749274,-0.13518856,-0.108657431,-0.108028472,-0.116688468,-0.134407652,-0.117069978,-0.098850915,-0.108340165,-0.088486188,-0.124469948,-0.105480698,-0.144083893,-0.124121774,-0.099489485,-0.102091246,-0.141327271,-0.111257,-0.131510949,-0.111778348,-0.078600401,-0.115156562,-0.079684557,-0.132053392,-0.123509611,-0.139174593,-0.111014912,-0.100440521,-0.109025404,-0.085814489,-0.097340162,-0.078505384,-0.183834706,-0.138231303,-0.158264483,-0.122806861,-0.0929401,-0.076793375,-0.192538767,-0.077121322,-0.190240716,-0.147301667,-0.096317627,-0.132102166,-0.132328837,-0.172528678,-0.157275636,-0.105270275,-0.183289032,-0.158963647,-0.073537654,-0.141423695,-0.114934001,-0.13547809,-0.090847761,-0.093080779,-0.156166631,-0.078869751,-0.104724625,-0.150905245,-0.094524319,-0.096496865,-0.09388536,-0.185296516,-0.137043852,-0.075459482,-0.136792671,-0.074754872,-0.191462381,-0.06797,-0.104708922,-0.097441687,-0.153319609,-0.157436972,-0.117974901,-0.085634242,-0.147203711,-0.198286569,-0.161203828,-0.111435796,-0.202759212,-0.129361842,-0.11614642,-0.138364847,-0.110683213,-0.168917077,-0.201554966,-0.101536865,-0.174292825,-0.11282408,-0.191933711,-0.092921165,-0.193068385,-0.196170309,-0.137841333,-0.131773845,-0.141334487,-0.121328408,-0.167894973,-0.183118788,-0.183716959,-0.159237081,-0.147624377,-0.195455928,-0.165164288,-0.108068155,-0.186753859,-0.173715911,-0.113001,-0.115163,-0.0811189,-0.188098863,-0.140947636,-0.141923621,-0.153645496,-0.152317537,-0.165842551,-0.14521173,-0.140741432,-0.175810943,-0.178433004,-0.164393768,-0.109914711,-0.132845681,-0.153520935,-0.133201961,-0.100186337,-0.091773776,-0.106237501,-0.098497684,-0.111606696,-0.082989638,-0.066078037,-0.161113413,-0.06954201,-0.100791005,-0.112432615,-0.06275,-0.062697,-0.153194766,-0.166304359,-0.165101392,-0.151926305,-0.158105512,-0.199004026,-0.149569201,-0.130504336,-0.088285377,-0.181190899,-0.082422399,-0.170194408,-0.19039362,-0.166485083,-0.13045856,-0.155349725,-0.090220911,-0.188129731,-0.196422,-0.131961389,-0.115480888,-0.134621209,-0.123179697,-0.103137426,-0.17873226,-0.112753217,-0.130699733,-0.106992706,-0.110889274,-0.073438925,-0.067176443,-0.175116099,-0.138019439,-0.10569204,-0.151359288,-0.139625122,-0.128585022,-0.142207481,-0.099994052,-0.168314,-0.170279555,-0.096191134,-0.162727,-0.079249,-0.116542278,-0.086379717,-0.106408455,-0.179592915,-0.116764211,-0.154907218,-0.178656971,-0.123247648,-0.135580879,-0.191351186,-0.103132904,-0.080660083,-0.109256828,-0.169249375,-0.180246101,-0.132224622,-0.144132875,-0.089740764,-0.122492418,-0.156285395,-0.110699309,-0.114686385,-0.20528437,-0.092176447,-0.084985356,-0.191496313,-0.07962099,-0.176645823,-0.162418,-0.127575233,-0.059642081,-0.112031483,-0.174653609,-0.128377673,-0.147478734,-0.151296092,-0.175488803,-0.138089062,-0.165471605,-0.209494128,-0.135635511,-0.092762704,-0.190603326,-0.106000855,-0.074189225,-0.136928582,-0.172729559,-0.148105415,-0.216573,-0.158456089,-0.16209757,-0.115853961,-0.135025698,-0.187842717,-0.085666316,-0.119047563,-0.116911864,-0.140485596,-0.176770502,-0.138072691,-0.083159352,-0.153463612,-0.141943703,-0.093913472,-0.138846453,-0.088542771,-0.139956043,-0.081608045,-0.073955,-0.083067,-0.101384068,-0.129697889,-0.099981142,-0.086016,-0.085603,-0.160854428,-0.179135079,-0.089887855,-0.194757949,-0.193764092,-0.115851,-0.120718759,-0.115533,-0.197524944,-0.119643424,-0.111781191,-0.087587447,-0.12602103,-0.150181444,-0.10102611,-0.166878535,-0.113936001,-0.150481272,-0.142783033,-0.1798541843891,-0.097122,-0.116625,-0.134234258,-0.123702,-0.117286,-0.173881,-0.139016,-0.124332175,-0.135440826,-0.138733562,-0.11342628,-0.133952,-0.171185284853,-0.132339,-0.100168,-0.1511263847351,-0.1642075,-0.15934065,-0.174593,-0.10988,-0.117863,-0.176415994,-0.11386435,-0.194392952,-0.125674815,-0.113656543,-0.179077626,-0.200838199,-0.150666888,-0.13577731,-0.14744969,-0.13121385,-0.192404,-0.130110822,-0.121394101,-0.121723604,-0.155757901,-0.068856,-0.142345694,-0.179702476,-0.103604248,-0.176268,-0.159919,-0.163609,-0.17977,-0.200742,-0.071653961,-0.154106,-0.075375,-0.171681991,-0.158249929,-0.184400221,-0.18267094,-0.159988,-0.160785,-0.170704337,-0.099828,-0.169774,-0.09968067,-0.110121,-0.149004,-0.105312,-0.104778,-0.15393398,-0.149186,-0.139159,-0.129925,-0.09294031,-0.174554,-0.17524,-0.122203,-0.173894,-0.116279,-0.105593,-0.11655,-0.120903,-0.118677,-0.113134,-0.114605,-0.211358,-0.058641,-0.055312,-0.065076,-0.055894,-0.007542,-0.02296,-0.057159,-0.053177,-0.063531,-0.070542,-0.055167,-0.021582,-0.014409,-0.144664,-0.145393,-0.057544,-0.03338,-0.029138,-0.038775,-0.138853,-0.071881,-0.052099,-0.08249,-0.076341,-0.030556,-0.022694,-0.020467,-0.025492,-0.028155,-0.027616,-0.019355,-0.011457,-0.020157,-0.009205,-0.018716,-0.04667,-0.058005,-0.0389866,-0.009001,-0.02377,-0.047784,-0.013258,-0.048017,-0.069543,-0.025626,-0.058681,-0.064094,-0.065006,-0.041378,-0.03562,-0.016251,-0.018703,-0.015578,-0.025296,-0.021345,-0.054883,-0.022702,-0.051394,-0.009506,-0.026768,-0.075855,-0.059091,-0.074431,-0.090075,-0.025996,-0.053558,-0.06142,-0.055656,-0.155525,-0.211316,-0.014438,-0.033085,-0.037471,-0.011662,-0.047218,-0.037366,-0.036017,-0.013475,-0.179668,-0.014293,-0.008428,-0.215808,-0.145827,-0.170983,-0.012413,-0.042744,-0.020068,-0.069743,-0.066035,-0.147154,-0.067937,-0.00699,-0.075901,-0.144466,-0.142844,-0.033828,-0.204666,-0.102208,-0.145246,-0.107987,-0.002275,-0.107913,-0.104193,-0.039264,-0.016233,-0.056667,-0.062546,-0.005659,-0.021596,-0.0985,-0.127554,-0.205991,-0.205921,-0.043371,-0.12335,-0.009152,-0.117619,-0.063386,-0.224103,-0.18697,-0.08299,-0.017676,-0.218337,-0.141728,-0.18119,-0.09315,-0.022793,-0.047548,-0.057133,-0.093051,-0.102996299,-0.125978,-0.19096,-0.014582,-0.08497,-0.0801,-0.179369,-0.16862,-0.2242237,-0.18377,-0.11934,-0.117774,-0.21985,-0.199783,-0.20782,-0.228188,-0.223616,-0.124642,-0.225787,-0.133972,-0.116493,-0.138535,-0.163667,-0.210941,-0.210279,-0.216493,-0.157788279,-0.172078187,-0.208486599,-0.141812513,-0.217400093,-0.144690541,-0.215895601,-0.209973497,-0.207842908,-0.193254007,-0.197010096,-0.167160736,-0.187427294,-0.205535908,-0.180791784,-0.132102704,-0.149551631,-0.20481514,-0.158230901,-0.184318843,-0.190184054,-0.126994068,-0.141770709,-0.163041605,-0.209378594,-0.215804559,-0.214428378,-0.193502076,-0.174691623,-0.169821175,-0.202038682,-0.148059277,-0.117495865,-0.174485792,-0.204764421,-0.223852256,-0.100292412,-0.137424571,-0.217515071,-0.19627483,-0.18027465,-0.213872396,-0.183853573,-0.218190203,-0.17070367,-0.117661574,-0.219346128,-0.199135704,-0.221791552,-0.16478637,-0.174619404,-0.206029743,-0.202608612,-0.167919869,-0.211593602,-0.155442787,-0.191722864,-0.208158259,-0.222293381,-0.236769936,-0.1232585,-0.152248582,-0.201968,-0.173656546,-0.18038939,-0.11619105,-0.182126248,-0.126874471,-0.146544642,-0.211468596,-0.170210533,-0.170329317,-0.214749808,-0.22660621,-0.163750945,-0.195197203,-0.198735357,-0.222456468,-0.21145598,-0.20066766,-0.180884959,-0.152130083,-0.195777222,-0.028941601,-0.215618902,-0.102757578,-0.217995921,-0.112721065,-0.070329419,-0.07023031,-0.174347066,-0.176267008,-0.065550321,-0.10534448,-0.202802098,-0.212145939,-0.083632928,-0.215087092,-0.21614583,-0.215550761,-0.163347594,-0.216305546,-0.034903714,-0.14326094,-0.137235175,-0.049067243,-0.02356501,-0.075885686,-0.060291813,-0.054162264,-0.205279052,-0.026262677,-0.058631453,-0.190346493,-0.184806157,-0.138748723,-0.150908371,-0.20587627,-0.206240805,-0.208485293,-0.229116862,-0.189210466,-0.087262995,-0.150817316,-0.175407201,-0.17302926,-0.19411695,-0.187278987,-0.185273723,-0.214594781,-0.219486603,-0.208565479,-0.212607684,-0.172293499,-0.18243547,-0.17903854,-0.161765173,-0.079201849,-0.074284675,-0.157850096,-0.120909408,-0.20600248,-0.234094148,-0.214762686,-0.174971902,-0.159169801,-0.187404506,-0.201005397,-0.165668686,-0.163795009,-0.211860644,-0.129698963,-0.032566533,-0.16829214,-0.20682737,-0.192165613,-0.200806304,-0.159322467,-0.191803,-0.209121,-0.216016,-0.122831913,-0.107349,-0.20464,-0.223868,-0.167029,-0.165297856693],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Available bikes: 4","Available bikes: 2","Available bikes: 0","Available bikes: 4","Available bikes: 15","Available bikes: 0","Available bikes: 15","Available bikes: 5","Available bikes: 3","Available bikes: 1","Available bikes: 0","Available bikes: 0","Available bikes: 0","Available bikes: 12","Available bikes: 0","Available bikes: 8","Available bikes: 4","Available bikes: 1","Available bikes: 6","Available bikes: 19","Available bikes: 8","Available bikes: 2","Available bikes: 2","Available bikes: 0","Available bikes: 17","Available bikes: 10","Available bikes: 0","Available bikes: 0","Available bikes: 10","Available bikes: 17","Available bikes: 21","Available bikes: 7","Available bikes: 12","Available bikes: 4","Available bikes: 15","Available bikes: 4","Available bikes: 23","Available bikes: 13","Available bikes: 0","Available bikes: 27","Available bikes: 17","Available bikes: 0","Available bikes: 23","Available bikes: 15","Available bikes: 19","Available bikes: 0","Available bikes: 0","Available bikes: 5","Available bikes: 8","Available bikes: 1","Available bikes: 0","Available bikes: 0","Available bikes: 0","Available bikes: 10","Available bikes: 0","Available bikes: 9","Available bikes: 4","Available bikes: 8","Available bikes: 29","Available bikes: 14","Available bikes: 17","Available bikes: 8","Available bikes: 0","Available bikes: 0","Available bikes: 1","Available bikes: 0","Available bikes: 3","Available bikes: 24","Available bikes: 4","Available bikes: 8","Available bikes: 1","Available bikes: 14","Available bikes: 3","Available bikes: 5","Available bikes: 14","Available bikes: 6","Available bikes: 10","Available bikes: 0","Available bikes: 0","Available bikes: 0","Available bikes: 0","Available bikes: 12","Available bikes: 19","Available bikes: 0","Available bikes: 0","Available bikes: 11","Available bikes: 18","Available bikes: 18","Available bikes: 26","Available bikes: 19","Available bikes: 27","Available bikes: 0","Available bikes: 16","Available bikes: 11","Available bikes: 20","Available bikes: 0","Available bikes: 16","Available bikes: 3","Available bikes: 0","Available bikes: 9","Available bikes: 14","Available bikes: 15","Available bikes: 0","Available bikes: 9","Available bikes: 1","Available bikes: 0","Available bikes: 10","Available bikes: 1","Available bikes: 2","Available bikes: 13","Available bikes: 9","Available bikes: 1","Available bikes: 0","Available bikes: 20","Available bikes: 12","Available bikes: 2","Available bikes: 0","Available bikes: 0","Available bikes: 3","Available bikes: 5","Available bikes: 5","Available bikes: 3","Available bikes: 0","Available bikes: 0","Available bikes: 21","Available bikes: 0","Available bikes: 9","Available bikes: 12","Available bikes: 14","Available bikes: 0","Available bikes: 20","Available bikes: 2","Available bikes: 0","Available bikes: 8","Available bikes: 0","Available bikes: 6","Available bikes: 0","Available bikes: 0","Available bikes: 19","Available bikes: 15","Available bikes: 42","Available bikes: 19","Available bikes: 32","Available bikes: 4","Available bikes: 11","Available bikes: 17","Available bikes: 1","Available bikes: 3","Available bikes: 16","Available bikes: 21","Available bikes: 26","Available bikes: 12","Available bikes: 30","Available bikes: 10","Available bikes: 7","Available bikes: 0","Available bikes: 0","Available bikes: 4","Available bikes: 0","Available bikes: 14","Available bikes: 12","Available bikes: 2","Available bikes: 0","Available bikes: 3","Available bikes: 3","Available bikes: 12","Available bikes: 8","Available bikes: 11","Available bikes: 4","Available bikes: 11","Available bikes: 12","Available bikes: 0","Available bikes: 23","Available bikes: 17","Available bikes: 18","Available bikes: 0","Available bikes: 2","Available bikes: 8","Available bikes: 1","Available bikes: 14","Available bikes: 11","Available bikes: 14","Available bikes: 1","Available bikes: 4","Available bikes: 17","Available bikes: 0","Available bikes: 0","Available bikes: 17","Available bikes: 22","Available bikes: 8","Available bikes: 13","Available bikes: 11","Available bikes: 5","Available bikes: 11","Available bikes: 15","Available bikes: 6","Available bikes: 6","Available bikes: 8","Available bikes: 13","Available bikes: 16","Available bikes: 1","Available bikes: 8","Available bikes: 22","Available bikes: 0","Available bikes: 22","Available bikes: 9","Available bikes: 16","Available bikes: 21","Available bikes: 0","Available bikes: 13","Available bikes: 1","Available bikes: 12","Available bikes: 15","Available bikes: 17","Available bikes: 12","Available bikes: 0","Available bikes: 18","Available bikes: 14","Available bikes: 5","Available bikes: 0","Available bikes: 17","Available bikes: 0","Available bikes: 17","Available bikes: 22","Available bikes: 12","Available bikes: 0","Available bikes: 0","Available bikes: 21","Available bikes: 35","Available bikes: 10","Available bikes: 22","Available bikes: 27","Available bikes: 1","Available bikes: 9","Available bikes: 5","Available bikes: 17","Available bikes: 0","Available bikes: 16","Available bikes: 1","Available bikes: 26","Available bikes: 19","Available bikes: 28","Available bikes: 0","Available bikes: 0","Available bikes: 26","Available bikes: 30","Available bikes: 11","Available bikes: 21","Available bikes: 0","Available bikes: 11","Available bikes: 8","Available bikes: 0","Available bikes: 0","Available bikes: 16","Available bikes: 27","Available bikes: 0","Available bikes: 2","Available bikes: 14","Available bikes: 0","Available bikes: 7","Available bikes: 19","Available bikes: 32","Available bikes: 21","Available bikes: 11","Available bikes: 4","Available bikes: 19","Available bikes: 18","Available bikes: 0","Available bikes: 0","Available bikes: 7","Available bikes: 4","Available bikes: 5","Available bikes: 1","Available bikes: 4","Available bikes: 39","Available bikes: 11","Available bikes: 16","Available bikes: 0","Available bikes: 18","Available bikes: 0","Available bikes: 7","Available bikes: 27","Available bikes: 0","Available bikes: 8","Available bikes: 14","Available bikes: 21","Available bikes: 13","Available bikes: 10","Available bikes: 16","Available bikes: 6","Available bikes: 13","Available bikes: 0","Available bikes: 18","Available bikes: 0","Available bikes: 7","Available bikes: 10","Available bikes: 1","Available bikes: 20","Available bikes: 20","Available bikes: 1","Available bikes: 9","Available bikes: 1","Available bikes: 17","Available bikes: 1","Available bikes: 25","Available bikes: 5","Available bikes: 22","Available bikes: 24","Available bikes: 0","Available bikes: 2","Available bikes: 21","Available bikes: 22","Available bikes: 11","Available bikes: 0","Available bikes: 3","Available bikes: 0","Available bikes: 21","Available bikes: 10","Available bikes: 13","Available bikes: 8","Available bikes: 24","Available bikes: 0","Available bikes: 9","Available bikes: 10","Available bikes: 2","Available bikes: 0","Available bikes: 14","Available bikes: 5","Available bikes: 0","Available bikes: 4","Available bikes: 0","Available bikes: 10","Available bikes: 28","Available bikes: 5","Available bikes: 2","Available bikes: 7","Available bikes: 0","Available bikes: 0","Available bikes: 8","Available bikes: 25","Available bikes: 18","Available bikes: 12","Available bikes: 32","Available bikes: 15","Available bikes: 7","Available bikes: 0","Available bikes: 0","Available bikes: 8","Available bikes: 2","Available bikes: 46","Available bikes: 35","Available bikes: 17","Available bikes: 0","Available bikes: 39","Available bikes: 0","Available bikes: 2","Available bikes: 3","Available bikes: 2","Available bikes: 16","Available bikes: 10","Available bikes: 0","Available bikes: 12","Available bikes: 1","Available bikes: 18","Available bikes: 4","Available bikes: 5","Available bikes: 5","Available bikes: 0","Available bikes: 0","Available bikes: 0","Available bikes: 0","Available bikes: 7","Available bikes: 0","Available bikes: 9","Available bikes: 0","Available bikes: 0","Available bikes: 40","Available bikes: 0","Available bikes: 3","Available bikes: 1","Available bikes: 18","Available bikes: 4","Available bikes: 5","Available bikes: 16","Available bikes: 7","Available bikes: 20","Available bikes: 0","Available bikes: 18","Available bikes: 8","Available bikes: 1","Available bikes: 12","Available bikes: 9","Available bikes: 3","Available bikes: 7","Available bikes: 14","Available bikes: 9","Available bikes: 5","Available bikes: 27","Available bikes: 16","Available bikes: 12","Available bikes: 36","Available bikes: 23","Available bikes: 1","Available bikes: 22","Available bikes: 31","Available bikes: 8","Available bikes: 6","Available bikes: 1","Available bikes: 8","Available bikes: 10","Available bikes: 0","Available bikes: 2","Available bikes: 14","Available bikes: 0","Available bikes: 19","Available bikes: 17","Available bikes: 24","Available bikes: 18","Available bikes: 5","Available bikes: 12","Available bikes: 5","Available bikes: 28","Available bikes: 24","Available bikes: 28","Available bikes: 0","Available bikes: 31","Available bikes: 28","Available bikes: 14","Available bikes: 8","Available bikes: 24","Available bikes: 14","Available bikes: 13","Available bikes: 23","Available bikes: 27","Available bikes: 26","Available bikes: 8","Available bikes: 16","Available bikes: 10","Available bikes: 40","Available bikes: 18","Available bikes: 24","Available bikes: 27","Available bikes: 12","Available bikes: 3","Available bikes: 7","Available bikes: 27","Available bikes: 35","Available bikes: 1","Available bikes: 8","Available bikes: 3","Available bikes: 16","Available bikes: 4","Available bikes: 25","Available bikes: 31","Available bikes: 17","Available bikes: 15","Available bikes: 24","Available bikes: 30","Available bikes: 11","Available bikes: 25","Available bikes: 16","Available bikes: 15","Available bikes: 34","Available bikes: 20","Available bikes: 20","Available bikes: 25","Available bikes: 29","Available bikes: 13","Available bikes: 51","Available bikes: 0","Available bikes: 31","Available bikes: 8","Available bikes: 8","Available bikes: 10","Available bikes: 20","Available bikes: 0","Available bikes: 24","Available bikes: 29","Available bikes: 1","Available bikes: 3","Available bikes: 22","Available bikes: 1","Available bikes: 0","Available bikes: 0","Available bikes: 14","Available bikes: 26","Available bikes: 24","Available bikes: 1","Available bikes: 9","Available bikes: 11","Available bikes: 11","Available bikes: 22","Available bikes: 26","Available bikes: 10","Available bikes: 15","Available bikes: 26","Available bikes: 11","Available bikes: 12","Available bikes: 0","Available bikes: 12","Available bikes: 17","Available bikes: 0","Available bikes: 12","Available bikes: 15","Available bikes: 9","Available bikes: 0","Available bikes: 9","Available bikes: 26","Available bikes: 20","Available bikes: 16","Available bikes: 9","Available bikes: 17","Available bikes: 20","Available bikes: 0","Available bikes: 7","Available bikes: 0","Available bikes: 16","Available bikes: 21","Available bikes: 0","Available bikes: 46","Available bikes: 24","Available bikes: 37","Available bikes: 4","Available bikes: 0","Available bikes: 23","Available bikes: 12","Available bikes: 16","Available bikes: 0","Available bikes: 0","Available bikes: 3","Available bikes: 18","Available bikes: 1","Available bikes: 8","Available bikes: 0","Available bikes: 14","Available bikes: 34","Available bikes: 11","Available bikes: 12","Available bikes: 17","Available bikes: 22","Available bikes: 0","Available bikes: 25","Available bikes: 28","Available bikes: 1","Available bikes: 44","Available bikes: 14","Available bikes: 13","Available bikes: 11","Available bikes: 0","Available bikes: 30","Available bikes: 11","Available bikes: 11","Available bikes: 27","Available bikes: 1","Available bikes: 22","Available bikes: 10","Available bikes: 26","Available bikes: 3","Available bikes: 18","Available bikes: 20","Available bikes: 1","Available bikes: 1","Available bikes: 2","Available bikes: 20","Available bikes: 13","Available bikes: 3","Available bikes: 13","Available bikes: 3","Available bikes: 35","Available bikes: 40","Available bikes: 2","Available bikes: 21","Available bikes: 8","Available bikes: 8","Available bikes: 5","Available bikes: 8","Available bikes: 8","Available bikes: 14","Available bikes: 22","Available bikes: 4","Available bikes: 25","Available bikes: 11","Available bikes: 17","Available bikes: 7","Available bikes: 16","Available bikes: 13","Available bikes: 17","Available bikes: 21","Available bikes: 7","Available bikes: 16","Available bikes: 35","Available bikes: 17","Available bikes: 14","Available bikes: 9","Available bikes: 23","Available bikes: 13","Available bikes: 24","Available bikes: 25","Available bikes: 25","Available bikes: 8","Available bikes: 11","Available bikes: 20","Available bikes: 5","Available bikes: 13","Available bikes: 17","Available bikes: 23","Available bikes: 19","Available bikes: 8","Available bikes: 17","Available bikes: 13","Available bikes: 10","Available bikes: 19","Available bikes: 4","Available bikes: 26","Available bikes: 8","Available bikes: 21","Available bikes: 18","Available bikes: 10","Available bikes: 11","Available bikes: 21","Available bikes: 30","Available bikes: 1","Available bikes: 19","Available bikes: 10","Available bikes: 22","Available bikes: 9","Available bikes: 3","Available bikes: 18","Available bikes: 2","Available bikes: 6","Available bikes: 22","Available bikes: 27","Available bikes: 6","Available bikes: 20","Available bikes: 12","Available bikes: 37","Available bikes: 11","Available bikes: 34","Available bikes: 20","Available bikes: 32","Available bikes: 35","Available bikes: 4","Available bikes: 19","Available bikes: 25","Available bikes: 30","Available bikes: 13","Available bikes: 23","Available bikes: 14","Available bikes: 7","Available bikes: 12","Available bikes: 24","Available bikes: 29","Available bikes: 3","Available bikes: 12","Available bikes: 19","Available bikes: 14","Available bikes: 24","Available bikes: 18","Available bikes: 12","Available bikes: 10","Available bikes: 21","Available bikes: 2","Available bikes: 15","Available bikes: 29","Available bikes: 22","Available bikes: 25","Available bikes: 22","Available bikes: 11","Available bikes: 0","Available bikes: 9","Available bikes: 12","Available bikes: 17","Available bikes: 0","Available bikes: 26","Available bikes: 22","Available bikes: 7","Available bikes: 5","Available bikes: 14","Available bikes: 20","Available bikes: 18","Available bikes: 17","Available bikes: 8","Available bikes: 33","Available bikes: 40","Available bikes: 27","Available bikes: 10","Available bikes: 13","Available bikes: 15","Available bikes: 47","Available bikes: 14","Available bikes: 21","Available bikes: 17","Available bikes: 10","Available bikes: 11","Available bikes: 7","Available bikes: 11","Available bikes: 33","Available bikes: 1","Available bikes: 0","Available bikes: 14","Available bikes: 34","Available bikes: 12","Available bikes: 36","Available bikes: 12","Available bikes: 13","Available bikes: 13","Available bikes: 17","Available bikes: 28","Available bikes: 18","Available bikes: 21","Available bikes: 2","Available bikes: 11","Available bikes: 24","Available bikes: 36","Available bikes: 20","Available bikes: 0","Available bikes: 11","Available bikes: 17","Available bikes: 4","Available bikes: 14","Available bikes: 19","Available bikes: 21","Available bikes: 17","Available bikes: 3","Available bikes: 12","Available bikes: 10","Available bikes: 8","Available bikes: 12","Available bikes: 32","Available bikes: 20","Available bikes: 24","Available bikes: 16","Available bikes: 20","Available bikes: 20","Available bikes: 17","Available bikes: 4","Available bikes: 35","Available bikes: 0","Available bikes: 11","Available bikes: 16","Available bikes: 10","Available bikes: 7"],null,null,null,["River Street","Phillimore Gardens","Christopher Street","St. Chad's Street","Sedding Street","Broadcasting House","Charlbert Street","Lodge Road","New Globe Walk","Park Street","Brunswick Square","Malet Street","Scala Street","Belgrove Street","Great Russell Street","Cartwright Gardens","Hatton Wall","Drury Lane","Taviton Street","Drummond Street","Hampstead Road (Cartmel)","Northington Street","Red Lion Square","British Museum","Doric Way","Ampton Street","Bouverie Street","Bolsover Street","Hereford Road","Windsor Terrace","Fanshaw Street","Leonard Circus","Pancras Road","De Vere Gardens","Penywern Road","Abingdon Villas","Shoreditch High Street","Commercial Street","Sun Street","Wenlock Road","Crawford Street","Bruton Street","Boston Place","Nesham Street","Warwick Avenue Station","Godliman Street","Curzon Street","East Road","Finsbury Library","Roscoe Street","Grafton Street","Golden Lane","Finsbury Circus","Paddington Street","Guilford Street","New Inn Yard","Rodney Street","Lisson Grove","Great Dover Street","Cotton Garden Estate","Murray Grove","William IV Street","Gower Place","Holborn Circus","Hatton Garden","Theobalds Road","Euston Road","Calshot Street","Newgate Street","Farringdon Lane","Old Street Station","Vauxhall Cross","Torrens Street","Longford Street","Russell Square Station","Sadlers Sports Centre","Webber Street","Great Titchfield Street","Chancery Lane","Panton Street","Breams Buildings","Tanner Street","Sancroft Street","Devonshire Square","Bayley Street","Tavistock Place","Harrington Square","Walnut Tree Walk","Borough Road","Cloudesley Road","Bricklayers Arms","Aldersgate Street","Falkirk Street","Gloucester Road (North)","Hampstead Road","Old Quebec Street","Albert Embankment","Queen Street","Jewry Street","Vicarage Gate","Crosswall","Westbourne Grove","Woodstock Street","Finsbury Leisure Centre","Abbey Orchard Street","Soho Square","Wellington Road","Park Lane","Stonecutter Street","Gloucester Road (Central)","Park Road (Baker Street)","Braham Street","Little Argyll Street","Lollard Street","Rochester Row","Bath Street","The Guildhall","Baker Street","Norton Folgate","St. John Street","Eaton Square","Borough High Street","Museum of London","Wood Street","Emperor's Gate","Golden Square","Tower Gardens","Eversholt Street","Bethnal Green Road","Derry Street","Wapping High Street","Clerkenwell Green","Queen Victoria Street","Bourne Street","Green Street","Lambeth Road","Finsbury Square","Chapel Place","West Cromwell Road","Pont Street","Kennington Cross","Ilchester Place","Vauxhall Bridge","Portugal Street","Tachbrook Street","Kennington Road Post Office","Holy Trinity Brompton","Chepstow Villas","Hampton Street","Bayswater Road","Waterloo Station 3","Lexham Gardens","New Kent Road","Wright's Lane","Trebovir Road","Great Marlborough Street","Waterloo Place","Guildhouse Street","Southampton Place","Sloane Avenue","Cleveland Gardens","Orsett Terrace","Seville Street","Eccleston Place","Argyll Road","Porchester Place","Hardwick Street","Collingham Gardens","Sumner Place","Waterloo Road","Strand","Appold Street","Gloucester Terrace","Ashley Place","Warwick Square","North Audley Street","Belgrave Square","Bell Street","Portland Place","Alderney Street","South Wharf Road","Queen's Gate (South)","Nutford Place","Claremont Square","Rampayne Street","Hyde Park Corner","Wardour Street","Bankside Mix","Hop Exchange","Milroy Walk","Union Street","Stamford Street","Great Tower Street","LMU Commercial Road","Dorset Square","Leman Street","West Smithfield Rotunda","Margery Street","New Road  2","New Road 1","Grosvenor Crescent","Mallory Street","Denyer Street","Hinde Street","Cadogan Place","Campden Hill Road","Wellington Arch","Endsleigh Gardens","Moorfields","Old Brompton Road","Wormwood Street","St. Luke's Church","Bramham Gardens","Chelsea Green","Horseferry Road","Knightsbridge","Rodney Road","Whiteley's","Notting Hill Gate Station","Charles II Street","Great Percy Street","St. James's Square","Whitehall Place","Poured Lines","Queen's Gate (Central)","Carey Street","Pall Mall East","Liverpool Road (N1 Centre)","Kennington Road","Fashion Street","Vaughan Way","Frampton Street","Warren Street Station","Colombo Street","Beaumont Street","Gloucester Street","Earnshaw Street","Grosvenor Road","Berry Street","St. John's Wood Church","Triangle Car Park","Harper Road","Royal Avenue 1","Brushfield Street","Jubilee Gardens","Shoreditch Park","Chadwell Street","Clifton Road","Houghton Street","Westminster University","Kensington Gore","Embankment (Horse Guards)","Broadwick Street","Princes Square","LSBU (Borough Road)","St. Mary Axe","Tysoe Street","Southwick Street","Queen's Gate (North)","Regency Street","Belgrave Road","Empire Square","Kennington Lane Rail Bridge","London Zoo","Baylis Road","Belvedere Road","Warwick Road","Barbican Centre","Lower Thames Street","Kensington Church Street","Tooley Street","North Wharf Road","Royal Avenue 2","Smith Square","Royal London Hospital","Lambeth North Station","St. John's Wood Road","Bedford Way","Elizabeth Bridge","South Audley Street","Winsland Street","Claverton Street","Montpelier Street","Kensington Olympia Station","St. George's Square","Swan Street","Knaresborough Place","Geraldine Street","Curlew Street","Vincent Square","Serpentine Car Park","Marylebone Lane","Putney Pier","Albert Gate","Cumberland Gate","Kennington Lane Tesco","Rathbone Street","Black Lion Gate","Long Lane","Embankment (Savoy)","Black Prince Road","Foley Street","Grove End Road","Wells Street","Tyers Gate","The Tennis Courts","Cardinal Place","Dickens Square","Sackville Street","Baldwin Street","Queen Mother Sports Centre","Bermondsey Street","Palissy Street","Clifton Street","Ontario Street","St. Martin's Street","Graham Street","New North Road 1","New North Road 2","Prince Albert Road","Eastbourne Mews","Bunhill Row","Nevern Place","Palace Gardens Terrace","Concert Hall Approach 1","Tavistock Street","Concert Hall Approach 2","Pembridge Villas","Wellington Street","Risinghill Street","Bank of England Museum","Craven Street","London Zoo Car Park","Goswell Road (City Uni)","Flood Street","Lower Marsh","Grosvenor Square","St. George Street","Queen's Gate","Macclesfield Rd","Vauxhall Street","Greycoat Street","Northumberland Avenue","Oval Way","South Kensington Station","Howland Street","High Holborn","Butler Place","Howick Place","Waterloo Station 2","Royal College Street","Lord's","Alfred Place","City Road","Millennium Hotel","Harrowby Street","Harriet Street","Paddington Green","King Edward Walk","Sardinia Street","Prince Consort Road","Waterloo Station 1","Kensington Town Hall","Millbank House","Waterloo Bridge","Natural History Museum","Turquoise Island","Stanhope Gate","Charlotte Street","Farm Street","Frith Street","Marloes Road","Moor Street","Fire Brigade Pier","Southampton Street","Upper Grosvenor Street","Buxton Street 1","Clifford Street","Imperial College","Snow Hill","Aberdeen Place","Cadogan Gardens","Shouldham Street","Devonshire Terrace","Holland Park","Brick Lane Market","George Street","Columbia Road","Penfold Street","George Place Mews","Palace Gate","Gloucester Road Station","Speakers' Corner 2","Speakers' Corner 1","Paddington Green Police Station","Strata","Edgware Road Station","Walworth Road","Cleaver Street","Chelsea Bridge","Southwark Station 1","Southwark Station 2","Eaton Square (South)","Ebury Bridge","Harrington Square 2","Vincent Street","Cheapside","Exhibition Road","South Parade","Crinan Street","Exhibition Road Museums","Wren Street","Kennington Station","Red Lion Street","Vauxhall Walk","Killick Street","Kennington Oval","Sail Street","Walmer Road","Philpot Street","Bethnal Green Gardens","Cheshire Street","York Hall","Jubilee Crescent","Fishermans Walk West","Shadwell Station","Jubilee Street","Hermitage Court","St Katharines Way","Garnet Street","Napier Avenue","East Ferry Road","Parkway","Castlehaven Road","Wapping Lane","Gun Makers Lane","Burdett Road","Aston Street","Bonny Street","Thurtle Road","St. Mary and St. Michael Church","Pitfield Street (North)","Whiston Road","Southern Grove","Cantrell Road","Lindfield Street","Mostyn Grove","Hewison Street","Malmesbury Road","Millharbour","Castalia Square","Lightermans Road","Stebondale Street","Spindrift Avenue","Stepney Green Station","Pott Street","Flamborough Street","Saunders Ness Road","Thornfield House","Albert Gardens","Bromley High Street","Old Ford Road","Granby Street","Canton Street","Reardon Street","Christian Street","Pennington Street","Queen Marys","The Green Bridge","South Quay East","Bow Church Station","Devons Road","Bow Road Station","Furze Green","Cephas Street","South Quay West","Cleveland Way","St John's Park","Ackroyd Drive","Bell Lane","Clarkson Street","Fournier Street","Fore Street","Westferry DLR","Sutton Street","Pritchard's Road","Watney Market","Portman Square","Russell Gardens","Chrisp Street Market","Ford Road","Antill Road","Teviot Street","Bancroft Road","Driffield Road","Clinton Road","Langdon Park","Lancaster Gate","Churchill Place","Lancaster Drive","Hansard Mews","Clarges Street","Manresa Road","Newby Place","Twig Folly Bridge","Jubilee Plaza","Wellington Row","Goldsmiths Row","Gloucester Avenue","Old Montague Street","Naval Row","Hoxton Station","Albany Street","Green Park Station","Salmon Lane","Lansdowne Walk","Percival Street","Arlington Road","New Fetter Lane","East India DLR","Westminster Bridge Road","Gaywood  Street","Harford Street","Montgomery Square","Watney Street","Regent's Row","Aberfeldy Street","Heron Quays DLR","King Edward Street","Page Street","Abbotsbury Road","Ladbroke Grove Central","Rectory Square","Bury Place","Preston's Road","Somerset House","Selby Street","Westfield Ariel Way","Bishop's Bridge Road West","Pitfield Street Central","Upper Bank Street","Westfield Southern Terrace","Greenland Road","Limerston Street","Eagle Wharf Road","Alpha Grove","Globe Town Market","Hollybush Gardens","Queen Street 2","Doddington Grove","Abingdon Green","Ilchester Gardens","Mudchute DLR","Monument Street","Hoxton Street","Drayton Gardens","Greenberry Street","Westfield Library Corner","Bishop's Bridge Road East","Northdown Street","Kingsway Southbound","Hammersmith Road","Parson's Green","Fulham Park Road","Southerton Road","Manbre Road","South Lambeth Road","BBC White City","Union Grove","Caldwell Street","St Martin's Close","Seymour Place","Addison Road","Putney Bridge Station","Colet Gardens","Sugden Road","Danvers Street","Princedale Road","Wandsworth Rd","Woodstock Grove","Bradmead","Finlay Street","Aintree Street","Elysium Place","Eel Brook Common","Irene Road","Surrey Lane","Wandsworth Town Station","Lansdowne Road","Nantes Close","Courland Grove","Queen's Circus","Normand Park","Holden Street","William Morris Way","Morie Street","Clarence Walk","Battersea Park Road","Sheepcote Lane","Vereker Road","Brook Green South","Greyhound Road","South Park","Spencer Park","Falcon Road","Coomer Place","Silverthorne Road","Archbishop's Park","Fawcett Close","All Saints' Road","Rainville Road","Great Suffolk Street","Buckingham Gate","Richmond Way","Peterborough Road","World's End Place","St. Mark's Road","Thorndike Close","Evesham Street","Simpson Street","Ashmole Estate","Crabtree Lane","Broomhouse Lane","Blythe Road West","Ethelburga Estate","Grant Road West","West Kensington Station","All Saints Church","Phene Street","Clarendon Road","Austin Road","Smugglers Way","Olympia Way","Shepherd's Bush Road North","Ravenscourt Park Station","Teversham Lane","Ashley Crescent","Parsons Green Station","Grant Road Central","Hibbert Street","Carnegie Street","Usk Road","Hartington Road","Heath Road","Esmond Street","Orbel Street","Westbridge Road","Bishop's Avenue","Crisp Road","Dorothy Road","Neville Gill Close","Osiers Road","Beryl Road","Maclise Road","Northfields","Spanish Road","Stanley Grove","Erin Close","Cadogan Close","Felsham Road","Islington Green","Charing Cross Hospital","Charlotte Terrace","Shoreditch Court","Belford House","Battersea Church Road","Vicarage Crescent","Durant Street","St. Bride Street","Mexfield Road","Upper Richmond Road","Snowsfields","Barons Court Station","Disraeli Road","Montserrat Road","Albert Bridge Road","Everington Street","Mile End Stadium","Hawley Crescent","Stewart's Road","Aylward Street","Stainsby Road","Dunston Road","Ada Street","Victoria Park Road","Star Road","Wendon Street","Finnis Street","Stephendale Road","Alma Road","Thessaly Road North","Alfreda Street","Chesilton Road","Putney Bridge Road","St. Peter's Terrace","Bridge Avenue","Michael Road","Duke Street Hill","Park Lane","Plough Terrace","Grant Road East","Fulham Broadway","Imperial Road","Hortensia Road","Sirdar Road","Freston Road","Blenheim Crescent","Oxford Road","Ingrave Street","Upcerne Road","Lots Road","Ormonde Gate","Hertford Road","Haggerston Road","Culvert Road","Newton Street","Manfred Road","Hammersmith Town Hall","Grenfell Road","The Vale","Prince of Wales Drive","Harcourt Terrace","Westbourne Park Road","Broadley Terrace","Rossmore Road","Humbolt Road","Storey's Gate","Mile End Park Leisure Centre","St. John's Road","Ranelagh Gardens","Ram Street","Santos Road","Clapham Common Northside","Sandilands Road","Gwendwr Road","Rifle Place","Binfield Road","Tallis Street","Hurlingham Park","Little Brook Green","Abyssinia Close","Limburg Road"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[51.45475251,51.542138],"lng":[-0.236769936,-0.002275]}},"evals":[],"jsHooks":[]}</script>
]


---

# Geospatial data and interactive tools

.pull-left[

&lt;u&gt;Road map for today:&lt;/u&gt;

* `leaflet`'s &lt;g&gt;map widget&lt;/g&gt; and base maps

* Incorporating &lt;r&gt;`sf` features&lt;/r&gt;:
    * `POINT` data, popups, and labels
    * `LINESTRING` and `POLYGON` data
    
* Incorporating &lt;y&gt;`terra` rasters&lt;/y&gt;

Main exposition in `01_class.07.R`
* Tutorials [&lt;u&gt;here&lt;/u&gt;](https://rstudio.github.io/leaflet/), [&lt;u&gt;here&lt;/u&gt;](https://leafletjs.com/reference.html), and [&lt;u&gt;here&lt;/u&gt;](https://leafletjs.com/examples.html)
  
]
.pull-right[

]

---

# Geospatial data and interactive tools: the map widget

.pull-left[

The &lt;u&gt;map widget&lt;/u&gt;: interactive map window

* `leaflet()`: "creates" the map widget
    * Customized options (e.g., zoom)
    * &lt;r&gt;Add data as layers&lt;/r&gt; as in `ggplot()`


```r
library(leaflet)

# Creating widget:
m &lt;- leaflet() # empty
m  # Print the map
```
  
]
.pull-right[
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-946c583d34d820b33b8a" style="width:504px;height:504px;"></div>
<script type="application/json" data-for="htmlwidget-946c583d34d820b33b8a">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}}},"evals":[],"jsHooks":[]}</script>
]

---

# Geospatial data and interactive tools: the map widget

.pull-left[

* &lt;u&gt;Adding `POINT`&lt;/u&gt; data with:
    
    * `addCircles()` or `addMarkers()` 
    
    * Example with `nz_height`
    

```r
library(leaflet)
library(spData)

# Creating widget:
m &lt;- leaflet() %&gt;%  # empty map
* addCircles(data = nz_height) # add layer
m  # Print the map
```
]
.pull-right[
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c9dc234495371be3a6fd" style="width:504px;height:504px;"></div>
<script type="application/json" data-for="htmlwidget-c9dc234495371be3a6fd">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addCircles","args":[[-44.5945966451212,-44.625672452299,-44.6223643789721,-44.3842107834385,-43.6934507381853,-43.6044734372997,-43.5982227462525,-43.5636535301091,-43.5589991268821,-43.5575827158805,-43.5523856096095,-43.5395246700628,-43.5513665983152,-43.5506258018572,-43.5416702230537,-43.5381849959194,-43.588549422093,-43.5873069508566,-43.5834764966549,-43.57751195127,-43.5623835866028,-43.5543715900262,-43.5329211040314,-43.530887737815,-43.5243123957998,-43.5261856390487,-43.5238953892356,-43.5170724231126,-43.5115110401245,-43.5100237618028,-43.508569955066,-43.5096527119703,-43.5080719416872,-43.5055300941424,-43.5036148339303,-43.4950056624883,-43.554570955908,-43.5476049419188,-43.5401261359576,-43.5921648217982,-43.5335244626854,-43.5270454107222,-43.5268360900644,-43.5008906230899,-43.5023751944396,-43.4916700712233,-43.4901439479552,-43.4877516681132,-43.4817296248765,-43.4780907989607,-43.473607301225,-43.7452724130842,-43.682490719677,-43.6798654361241,-43.6755713408585,-43.6014335863421,-43.597130093755,-43.5956641958602,-43.593447804275,-43.5956770402431,-43.5893493244207,-43.6219523338216,-43.6087036527907,-43.6031867839284,-43.5950626894704,-43.5894492983209,-43.6858920165368,-43.598413662828,-43.5902430823677,-43.5876267094077,-43.5850879767322,-43.5782887004652,-43.5696517250696,-43.573636892848,-43.5709452668165,-43.5733754628026,-43.5727820175314,-43.5716999733324,-43.5657312643756,-43.5597236977103,-43.5701421207864,-43.552165899949,-43.5500303501836,-43.5553196462348,-43.5598229976381,-43.5569626366116,-43.5518467855589,-43.464914783762,-43.4620037098722,-43.3569370576204,-43.3578411319192,-43.3333445189423,-42.0093918089297,-42.0004824551037,-41.9959336912244,-41.9851144343863,-39.28945301499,-39.2863022222039,-39.2758823113195,-39.267007290301,-39.2663754613664],[168.012542330284,168.395386095971,168.410637634779,168.727931476633,170.247325027129,170.391278965604,170.40029807208,170.18127707633,170.17784749822,170.187170011921,170.184551891059,170.193622566046,170.199667935054,170.201668460829,170.202444887803,170.209663478347,170.274715176569,170.278546116384,170.284554759651,170.291728610275,170.304892142916,170.301251586321,170.214169509882,170.214215005439,170.205704030354,170.209163213839,170.22104956457,170.26512637506,170.266508911015,170.253849198547,170.272543580528,170.274325882916,170.279563851679,170.2848434639,170.289744424629,170.311773276959,170.329315919519,170.338381706814,170.345406817727,170.400541627754,170.347518773008,170.33979956207,170.348069737215,170.347606892716,170.34925390822,170.316320240239,170.322329374546,170.331196739591,170.328118343735,170.32271427041,170.322693728727,169.984566374909,170.042176448312,170.052958356019,170.063923646544,170.092139101641,170.097444475833,170.09866368022,170.104737654643,170.126470008758,170.11539508517,170.143267028748,170.139782293194,170.144191742524,170.142157676444,170.139934477224,170.037948763325,170.142795696748,170.153074720566,170.129100869345,170.141822374627,170.145262327618,170.138675421283,170.146777989351,170.142175051933,170.150616506625,170.153445057734,170.15769755406,170.15721557797,170.14643498483,170.157883947095,170.160321747095,170.160459582911,170.176553389184,170.169640784267,170.176945198563,170.554839106613,170.58167010842,170.581897650341,170.978249961213,170.982992866362,171.010244459326,173.637494470095,173.654615064641,173.662841989691,173.661780053132,175.562673673845,175.558254506582,175.558071898258,175.576324206406,175.578961955379],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]}],"limits":{"lat":[-44.625672452299,-39.2663754613664],"lng":[168.012542330284,175.578961955379]}},"evals":[],"jsHooks":[]}</script>
]

---

# Geospatial data and interactive tools: the map widget

.pull-left[

* &lt;u&gt;Adding `POINT`&lt;/u&gt; data with:
    
    * `addCircles()` or `addMarkers()` 
    
    * Example with `nz_height`
    

```r
library(leaflet)
library(spData)

# Creating widget:
m &lt;- leaflet() %&gt;%  # empty map
* addMarkers(data = nz_height) # add layer
m  # Print the map
```
]
.pull-right[
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-7687de26f92507c5fb6b" style="width:504px;height:504px;"></div>
<script type="application/json" data-for="htmlwidget-7687de26f92507c5fb6b">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addMarkers","args":[[-44.5945966451212,-44.625672452299,-44.6223643789721,-44.3842107834385,-43.6934507381853,-43.6044734372997,-43.5982227462525,-43.5636535301091,-43.5589991268821,-43.5575827158805,-43.5523856096095,-43.5395246700628,-43.5513665983152,-43.5506258018572,-43.5416702230537,-43.5381849959194,-43.588549422093,-43.5873069508566,-43.5834764966549,-43.57751195127,-43.5623835866028,-43.5543715900262,-43.5329211040314,-43.530887737815,-43.5243123957998,-43.5261856390487,-43.5238953892356,-43.5170724231126,-43.5115110401245,-43.5100237618028,-43.508569955066,-43.5096527119703,-43.5080719416872,-43.5055300941424,-43.5036148339303,-43.4950056624883,-43.554570955908,-43.5476049419188,-43.5401261359576,-43.5921648217982,-43.5335244626854,-43.5270454107222,-43.5268360900644,-43.5008906230899,-43.5023751944396,-43.4916700712233,-43.4901439479552,-43.4877516681132,-43.4817296248765,-43.4780907989607,-43.473607301225,-43.7452724130842,-43.682490719677,-43.6798654361241,-43.6755713408585,-43.6014335863421,-43.597130093755,-43.5956641958602,-43.593447804275,-43.5956770402431,-43.5893493244207,-43.6219523338216,-43.6087036527907,-43.6031867839284,-43.5950626894704,-43.5894492983209,-43.6858920165368,-43.598413662828,-43.5902430823677,-43.5876267094077,-43.5850879767322,-43.5782887004652,-43.5696517250696,-43.573636892848,-43.5709452668165,-43.5733754628026,-43.5727820175314,-43.5716999733324,-43.5657312643756,-43.5597236977103,-43.5701421207864,-43.552165899949,-43.5500303501836,-43.5553196462348,-43.5598229976381,-43.5569626366116,-43.5518467855589,-43.464914783762,-43.4620037098722,-43.3569370576204,-43.3578411319192,-43.3333445189423,-42.0093918089297,-42.0004824551037,-41.9959336912244,-41.9851144343863,-39.28945301499,-39.2863022222039,-39.2758823113195,-39.267007290301,-39.2663754613664],[168.012542330284,168.395386095971,168.410637634779,168.727931476633,170.247325027129,170.391278965604,170.40029807208,170.18127707633,170.17784749822,170.187170011921,170.184551891059,170.193622566046,170.199667935054,170.201668460829,170.202444887803,170.209663478347,170.274715176569,170.278546116384,170.284554759651,170.291728610275,170.304892142916,170.301251586321,170.214169509882,170.214215005439,170.205704030354,170.209163213839,170.22104956457,170.26512637506,170.266508911015,170.253849198547,170.272543580528,170.274325882916,170.279563851679,170.2848434639,170.289744424629,170.311773276959,170.329315919519,170.338381706814,170.345406817727,170.400541627754,170.347518773008,170.33979956207,170.348069737215,170.347606892716,170.34925390822,170.316320240239,170.322329374546,170.331196739591,170.328118343735,170.32271427041,170.322693728727,169.984566374909,170.042176448312,170.052958356019,170.063923646544,170.092139101641,170.097444475833,170.09866368022,170.104737654643,170.126470008758,170.11539508517,170.143267028748,170.139782293194,170.144191742524,170.142157676444,170.139934477224,170.037948763325,170.142795696748,170.153074720566,170.129100869345,170.141822374627,170.145262327618,170.138675421283,170.146777989351,170.142175051933,170.150616506625,170.153445057734,170.15769755406,170.15721557797,170.14643498483,170.157883947095,170.160321747095,170.160459582911,170.176553389184,170.169640784267,170.176945198563,170.554839106613,170.58167010842,170.581897650341,170.978249961213,170.982992866362,171.010244459326,173.637494470095,173.654615064641,173.662841989691,173.661780053132,175.562673673845,175.558254506582,175.558071898258,175.576324206406,175.578961955379],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-44.625672452299,-39.2663754613664],"lng":[168.012542330284,175.578961955379]}},"evals":[],"jsHooks":[]}</script>
]

---

# Geospatial data and interactive tools: the map widget

.pull-left[

* &lt;u&gt;Adding `POLYGONS`&lt;/u&gt; data with `addPolygons()`
    
    * Example with `nz_height` + `nz`
    

```r
library(leaflet)
library(spData)

# Creating widget:
m &lt;- leaflet() %&gt;%  # empty map
* addPolygons(data = nz) %&gt;%  # add polygons
  addMarkers(data = nz_height) # add points
m  # Print the map
```

* `sf LINESTRING`: use `addPolylines()`

]
.pull-right[
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2ace8a5b15f4e564fce7" style="width:504px;height:504px;"></div>
<script type="application/json" data-for="htmlwidget-2ace8a5b15f4e564fce7">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addPolygons","args":[[[[{"lng":[174.616638800656,174.562809050564,174.481748333157,174.338965900234,174.214573266902,174.128772750479,174.045997583891,174.095972133855,174.155368483075,174.181866683395,174.135350500256,174.040527550541,173.983675883808,173.86604691657,173.688098133553,173.365180583183,173.356613017331,173.054243634031,173.130559999733,173.168093182624,173.167447217184,173.081005749918,172.851222917828,172.653880649817,172.69995103369,172.793065450767,172.869035233581,173.014442316542,172.984791449998,173.025130983722,173.120204417268,173.199324916413,173.280772883247,173.214814899913,173.288398249192,173.340087699738,173.286914883417,173.429163483407,173.389709633848,173.43403079967,173.535566349955,173.562634800269,173.644032483284,173.701142200014,173.74008500064,173.841272884062,173.931277716702,173.963284550175,174.078539632729,174.079958382619,174.125462949978,174.28978491699,174.350169531639,174.339655300127,174.468392016881,174.474719383801,174.536753999552,174.50237205005,174.557601466642,174.555188500026,174.485563450384,174.42268665044,174.404830266529,174.500809283377,174.460144966703,174.510000500399,174.589780900475,174.616638800656],"lat":[-36.1175604665955,-36.1790001827592,-36.2282769999432,-36.3168297168832,-36.2587116660859,-36.1736123994504,-36.170169550126,-36.2448879334658,-36.2760972327272,-36.3630358998131,-36.3920499169112,-36.3928830666112,-36.2337049996789,-36.0912001162456,-35.8924174497126,-35.5474016995135,-35.5228177334195,-35.1912381663496,-35.1789323328517,-35.1364273327505,-35.0363686494596,-34.8923919496618,-34.6297133663192,-34.4780076502047,-34.4263823994865,-34.4539942827612,-34.4145187168354,-34.4241368998064,-34.5278073326606,-34.6535190997586,-34.8166837671412,-34.8709688498192,-34.8925261172547,-34.9612557667477,-35.0132316332077,-34.9582312164518,-34.8634985660925,-34.8251486160708,-34.9534963329248,-34.985936149717,-34.9984530665285,-34.9215679665292,-34.9661940829241,-34.9524767161163,-35.0372064834494,-34.9943093161947,-35.0472986498451,-35.1188625998036,-35.1161315001266,-35.2730977500888,-35.2940340332261,-35.2751480001454,-35.3264187489332,-35.3768799004039,-35.4907537668788,-35.5563464661239,-35.5876817834871,-35.6408338001967,-35.7240167331065,-35.8608910000586,-35.7863742163629,-35.7848320998378,-35.8310155171767,-35.8410631829868,-35.9145349498201,-36.0304654495688,-36.0481898660515,-36.1175604665955]}]],[[{"lng":[175.291304133085,175.152091033439,175.141120333576,175.048242617195,174.990258082555,174.868951232796,174.815488049849,174.659628367495,174.538637882794,174.627048466479,174.690634167279,174.73950153409,174.857652450143,174.826874817006,174.744100215986,174.681552100084,174.583827667051,174.48303651745,174.468611433661,174.424401866458,174.273615083721,174.16870360025,174.187919333769,174.235835399823,174.312745950162,174.404776383887,174.43132198402,174.414885550516,174.25745998445,174.257569883856,174.373455166346,174.481748333157,174.562809050564,174.616638800656,174.657346033553,174.745751216322,174.818184083076,174.734791817454,174.723020317237,174.6928154505,174.740610167352,174.775982149355,174.735215883483,174.880847016882,174.95133831739,175.055796349564,175.093513100132,175.194032000505,175.28332898404,175.291304133085],"lat":[-37.0240384665269,-37.0215583499255,-37.1756033832982,-37.182271199634,-37.2165854996401,-37.2449866002433,-37.2286308828686,-37.2924320832104,-37.0766324001808,-37.0367340832569,-37.1366490000594,-37.1262254668411,-37.0510942830342,-37.0129061169001,-36.9843338828537,-36.9338147160376,-37.0073111163525,-37.0480030494191,-36.9540757993889,-36.8242195164743,-36.6113436505564,-36.4944308500372,-36.4344940164925,-36.4280906168409,-36.5364925994476,-36.6242364999823,-36.5110054662063,-36.4036616161879,-36.3809034491129,-36.3259556823771,-36.3194753664606,-36.2282769999432,-36.1790001827592,-36.1175604665955,-36.1775323830128,-36.2569215827736,-36.2852678662113,-36.4030681168194,-36.5128217502075,-36.5757347661774,-36.648003549368,-36.7735064498829,-36.841124949719,-36.8523293329453,-36.895384549847,-36.8826005993968,-36.9457113831122,-36.9343089329288,-36.9885057501568,-37.0240384665269]}],[{"lng":[175.397381334663,175.422708266539,175.483699566728,175.479485900624,175.543212183699,175.525421999773,175.437765849461,175.433490317008,175.35024318435,175.364852117958,175.326193733307,175.34179548326,175.397381334663],"lat":[-36.049713299334,-36.1291887990178,-36.1921515500181,-36.2444036833917,-36.2952009834157,-36.3476168495479,-36.307523166367,-36.2724128496347,-36.2285364497773,-36.1822376168855,-36.1382729818606,-36.0685923494045,-36.049713299334]}],[{"lng":[175.172594933364,175.14511235048,175.066499350381,175.038030716822,175.172594933364],"lat":[-36.7386591493701,-36.8474120331424,-36.8337360501136,-36.7957700665679,-36.7386591493701]}]],[[{"lng":[175.940104000403,175.913492216933,175.832775867556,175.809667417203,175.833586717063,175.927714949315,175.905873816582,175.977187833289,175.940945834187,176.075603717481,176.076019150588,176.150334834186,176.232057866462,176.297547798202,176.390623467125,176.429143533874,176.50532476716,176.45098049988,176.255113766945,176.258380934161,176.257562950888,176.147549683454,176.172753900527,176.085669116788,175.989206866078,175.964365549959,175.885970716458,175.812568800519,175.669211766574,175.557854216472,175.634656366174,175.617972132812,175.682012417337,175.562633650261,175.579969833542,175.546438183896,175.574620149733,175.523386533045,175.632458999383,175.612185166049,175.480939533801,175.38321201729,175.317760016591,175.213231183619,175.109226684129,174.954390867085,174.937845033609,174.862896367393,174.791960217277,174.655191183282,174.615147466571,174.64557498284,174.634641616934,174.715704749268,174.712538232633,174.690774649571,174.777037133266,174.895569600305,174.874875616366,174.77780156729,174.792085916113,174.75679855049,174.843696184123,174.956284466653,174.951308116722,174.837134500702,174.768715216871,174.700024633059,174.659628367495,174.815488049849,174.868951232796,174.990258082555,175.048242617195,175.141120333576,175.152091033439,175.291304133085,175.294966566686,175.323006283065,175.399204382699,175.544902117385,175.514084716696,175.519742083218,175.491002617546,175.408398483483,175.490180517216,175.494676733871,175.429445151763,175.447073067325,175.405834634532,175.344544616921,175.328268300531,175.368191233069,175.520191916265,175.522613315881,175.583391316676,175.578198899776,175.646650566192,175.788850933096,175.708633783133,175.781305150319,175.856004517196,175.842233483925,175.888322383072,175.878370950749,175.940104000403],"lat":[-37.3732415494177,-37.4255867168046,-37.4716019831908,-37.5138131497633,-37.6274871173512,-37.7760034327964,-37.8285516669824,-37.9136730328251,-37.9294224998321,-38.0495643996976,-38.1214420994632,-38.2181863995568,-38.2390825827257,-38.2295556170154,-38.3230470168629,-38.3134151168029,-38.4022137994137,-38.5616572328534,-38.8081781833421,-38.8899908832,-38.9478759665807,-39.0376737002045,-39.0784858666887,-39.1294486169037,-39.115548083218,-39.1798030168406,-39.2058951835182,-39.3003262165101,-39.2969341494396,-39.2759983495024,-39.1583628832968,-39.0812491668669,-38.9797105002429,-38.9868296998684,-38.9106842496727,-38.8598730996517,-38.8163002497247,-38.7500919668535,-38.5917750672203,-38.4876116162079,-38.4788807501445,-38.5422959832446,-38.5560422670198,-38.639399033155,-38.6245203666556,-38.6675035326607,-38.750158566659,-38.7745840666673,-38.7317766330068,-38.7332825998958,-38.7066484493599,-38.4563665331186,-38.387195516031,-38.3065037997108,-38.200598066221,-38.1176242502273,-38.1325016493315,-38.0859713163714,-38.0485370834874,-38.0815316832105,-38.0072839664294,-37.8638128168037,-37.8039134660885,-37.7924118832187,-37.7515311835379,-37.7936627827159,-37.5608502999387,-37.4167737834856,-37.2924320832104,-37.2286308828686,-37.2449866002433,-37.2165854996401,-37.182271199634,-37.1756033832982,-37.0215583499255,-37.0240384665269,-37.1211146497623,-37.1906320164387,-37.227041266647,-37.1573665495383,-37.0930035993995,-37.0341053993605,-36.9622664333836,-36.8575114002633,-36.8083106669992,-36.7619687494765,-36.7001410820403,-36.6600482663193,-36.5805631831099,-36.5530231170699,-36.4808005321015,-36.4685975823878,-36.540797348894,-36.5918639497278,-36.6272173993893,-36.6802999496879,-36.7363723666434,-36.7041192833087,-36.8325179663944,-36.8224126992364,-36.922808583448,-36.9474531172608,-37.0391867664023,-37.2003710497008,-37.3732415494177]}]],[[{"lng":[178.085284051072,178.107554901019,177.986683351304,177.9966216838,178.073006950751,177.972291634141,177.860967450378,177.73998423373,177.69206768402,177.604788567389,177.499270867243,177.463687900911,177.236922317735,177.257394033338,177.122170799865,177.045979500407,176.991448066688,176.878667633178,176.766746733663,176.717283066478,176.69597065003,176.601167800211,176.520452884076,176.468164783258,176.382140266513,176.303565400195,176.258380934161,176.255113766945,176.45098049988,176.50532476716,176.429143533874,176.390623467125,176.297547798202,176.232057866462,176.150334834186,176.076019150588,176.075603717481,175.940945834187,175.977187833289,175.905873816582,175.927714949315,175.833586717063,175.809667417203,175.832775867556,175.913492216933,175.940104000403,175.963443900661,175.934805299819,175.975048966784,176.053118300074,176.186754767107,176.250032000856,176.419017433437,176.477600450904,176.601950900428,176.736143750086,176.931668933884,177.083869783436,177.160565467622,177.383685833984,177.487534484234,177.546790133806,177.619619200899,177.683952433894,177.72763573395,177.868536418064,177.958640534699,178.006622350124,178.085284051072],"lat":[-37.5423911663695,-37.5987159661319,-37.6087571334111,-37.7602764999712,-37.7635896995148,-37.8450054663352,-38.1116561665495,-38.0420469669081,-38.1082776001083,-38.1866207665939,-38.218466749553,-38.3335362666423,-38.4263417997097,-38.5082771662098,-38.5839209335325,-38.6208022330665,-38.6936945832943,-38.6671346494108,-38.6893096832454,-38.7245242995849,-38.8215917663086,-38.8255591330702,-38.7968662996433,-38.9415194661341,-38.9887032829079,-38.9017194500041,-38.8899908832,-38.8081781833421,-38.5616572328534,-38.4022137994137,-38.3134151168029,-38.3230470168629,-38.2295556170154,-38.2390825827257,-38.2181863995568,-38.1214420994632,-38.0495643996976,-37.9294224998321,-37.9136730328251,-37.8285516669824,-37.7760034327964,-37.6274871173512,-37.5138131497633,-37.4716019831908,-37.4255867168046,-37.3732415494177,-37.4333808167608,-37.536853366205,-37.6239334661435,-37.6595265665208,-37.634790017341,-37.6800395996492,-37.7484934666571,-37.7541410500579,-37.8295142668897,-37.8795955831546,-37.9168967001651,-37.9788140829092,-37.9898454665602,-37.9836964665806,-37.9495595663945,-37.9075796830729,-37.8107283001314,-37.7601537161273,-37.6801879496912,-37.6533825667405,-37.6053283331363,-37.5531278668578,-37.5423911663695]}]],[[{"lng":[177.898992867599,177.834796917622,177.799025001196,177.660163933843,177.660490067463,177.597522800646,177.494212084347,177.447906750288,177.353425167718,177.307560650098,177.122170799865,177.257394033338,177.236922317735,177.463687900911,177.499270867243,177.604788567389,177.69206768402,177.73998423373,177.860967450378,177.972291634141,178.073006950751,177.9966216838,177.986683351304,178.107554901019,178.085284051072,178.174634084159,178.27630185211,178.36371060177,178.482593484816,178.550373601283,178.41585801832,178.391299368696,178.337261951675,178.373593884028,178.321955168811,178.338370118128,178.312409502003,178.344519151932,178.281772317683,178.293040667684,178.198843134477,178.050040402873,177.972729617512,177.911783384716,177.898992867599],"lat":[-38.9718330668037,-38.9527794162303,-38.8943903001803,-38.9047009167065,-38.8489419163927,-38.8070414997931,-38.7779742831157,-38.6359438828921,-38.6245578664864,-38.6597042000079,-38.5839209335325,-38.5082771662098,-38.4263417997097,-38.3335362666423,-38.218466749553,-38.1866207665939,-38.1082776001083,-38.0420469669081,-38.1116561665495,-37.8450054663352,-37.7635896995148,-37.7602764999712,-37.6087571334111,-37.5987159661319,-37.5423911663695,-37.534658299652,-37.5544868664312,-37.631004199356,-37.6410965159531,-37.6920842500843,-37.8580439169652,-37.9613996666553,-38.0095467667522,-38.0944882331678,-38.1221914165945,-38.1917070830343,-38.2415486163282,-38.4184646333134,-38.4721755162877,-38.526928333314,-38.6055091159961,-38.7020828327625,-38.6812606832734,-38.8279248668031,-38.9718330668037]}]],[[{"lng":[177.898992867599,177.9017996505,178.001674401045,177.92431856696,177.906174350565,177.850842017112,177.839268633773,177.870901817844,177.75596521677,177.636631150037,177.421363584246,177.259161701191,177.046117517361,176.989527483501,176.919394050451,176.876375366295,176.924177550286,176.922247883074,176.966353650113,177.075499034915,177.011022417518,177.005106232808,176.932128366662,176.888223216917,176.868997500491,176.794396933441,176.687031283296,176.622569049891,176.443295266386,176.359488317335,176.378605866566,176.32321406684,176.204970833786,176.136627349809,176.09383140064,176.106847067352,176.17685259975,176.195937933828,176.142726417604,176.183756817499,176.136827417623,176.111859467523,176.121760383432,176.080882450312,176.115201750033,176.085669116788,176.172753900527,176.147549683454,176.257562950888,176.258380934161,176.303565400195,176.382140266513,176.468164783258,176.520452884076,176.601167800211,176.69597065003,176.717283066478,176.766746733663,176.878667633178,176.991448066688,177.045979500407,177.122170799865,177.307560650098,177.353425167718,177.447906750288,177.494212084347,177.597522800646,177.660490067463,177.660163933843,177.799025001196,177.834796917622,177.898992867599],"lat":[-38.9718330668037,-39.0729589163746,-39.1049364834253,-39.170128766505,-39.2262764656247,-39.2334497993429,-39.1523278989566,-39.0876976334651,-39.0586759164819,-39.0504614667207,-39.0626328994174,-39.1006631831779,-39.1939367500206,-39.2940027839539,-39.3400230830998,-39.4226607995911,-39.4759893490698,-39.5495836494558,-39.6235120826987,-39.673259415579,-39.7427146832489,-39.8359419166031,-39.9352899665187,-40.0255260161828,-40.1313829665878,-40.2053349997861,-40.2563932328157,-40.4280165161931,-40.407388833065,-40.1971025165439,-40.1581407167419,-40.0937170162861,-40.0189951167996,-40.028578133887,-39.9955025832942,-39.9172052497374,-39.7440490995691,-39.6635709666433,-39.5846827831589,-39.5389751331424,-39.4752775333261,-39.3849908334676,-39.3263642668672,-39.2591636994191,-39.217689216508,-39.1294486169037,-39.0784858666887,-39.0376737002045,-38.9478759665807,-38.8899908832,-38.9017194500041,-38.9887032829079,-38.9415194661341,-38.7968662996433,-38.8255591330702,-38.8215917663086,-38.7245242995849,-38.6893096832454,-38.6671346494108,-38.6936945832943,-38.6208022330665,-38.5839209335325,-38.6597042000079,-38.6245578664864,-38.6359438828921,-38.7779742831157,-38.8070414997931,-38.8489419163927,-38.9047009167065,-38.8943903001803,-38.9527794162303,-38.9718330668037]}]],[[{"lng":[174.615147466571,174.655191183282,174.791960217277,174.862896367393,174.819869750297,174.798771383129,174.82803073341,174.764415417466,174.788411450134,174.675169549981,174.755642432479,174.747802983227,174.891668949943,174.871353583229,174.928495867377,174.967386967073,174.97262881664,174.930618333552,174.784081849931,174.716569950035,174.558874867369,174.444514817259,174.352709617041,174.201535516873,174.076819100748,173.910845583182,173.794988949217,173.75158500083,173.794817016681,173.909613299173,174.088957305084,174.200815833298,174.390964834124,174.559947483204,174.615147466571],"lat":[-38.7066484493599,-38.7332825998958,-38.7317766330068,-38.7745840666673,-38.7875171166311,-38.8652667999914,-38.923704366338,-39.0047909500201,-39.0678331830544,-39.1298299493616,-39.2336436335003,-39.2757990163096,-39.3582403665654,-39.401065466581,-39.4761503161982,-39.4862796832774,-39.653146100114,-39.7244787999056,-39.8579774497812,-39.8672062167774,-39.8174444664505,-39.7506608664429,-39.6590780832936,-39.588083783155,-39.5773399666899,-39.5148036332211,-39.4150641328049,-39.2803068998594,-39.1924945673116,-39.1211085998946,-39.050930172386,-38.9883909501843,-38.9888580830121,-38.855913583522,-38.7066484493599]}]],[[{"lng":[176.085669116788,176.115201750033,176.080882450312,176.121760383432,176.111859467523,176.136827417623,176.183756817499,176.142726417604,176.195937933828,176.17685259975,176.106847067352,176.09383140064,176.136627349809,176.204970833786,176.32321406684,176.378605866566,176.359488317335,176.443295266386,176.622569049891,176.620793584048,176.493457017513,176.33276253349,176.211253483372,176.082334183401,176.02244929987,175.871636834196,175.764739183997,175.77010965014,175.690650115948,175.653222466794,175.473443566666,175.439643550552,175.371593716648,175.266658932695,175.136486700712,175.190707066475,175.227057750243,175.223560650608,175.198135366129,175.162540683897,175.045463016741,174.927877449905,174.784081849931,174.930618333552,174.97262881664,174.967386967073,174.928495867377,174.871353583229,174.891668949943,174.747802983227,174.755642432479,174.675169549981,174.788411450134,174.764415417466,174.82803073341,174.798771383129,174.819869750297,174.862896367393,174.937845033609,174.954390867085,175.109226684129,175.213231183619,175.317760016591,175.38321201729,175.480939533801,175.612185166049,175.632458999383,175.523386533045,175.574620149733,175.546438183896,175.579969833542,175.562633650261,175.682012417337,175.617972132812,175.634656366174,175.557854216472,175.669211766574,175.812568800519,175.885970716458,175.964365549959,175.989206866078,176.085669116788],"lat":[-39.1294486169037,-39.217689216508,-39.2591636994191,-39.3263642668672,-39.3849908334676,-39.4752775333261,-39.5389751331424,-39.5846827831589,-39.6635709666433,-39.7440490995691,-39.9172052497374,-39.9955025832942,-40.028578133887,-40.0189951167996,-40.0937170162861,-40.1581407167419,-40.1971025165439,-40.407388833065,-40.4280165161931,-40.4917772330373,-40.5305003327721,-40.697900799416,-40.6592102828478,-40.7081527160579,-40.7114886668745,-40.7779047333494,-40.7680905667094,-40.6988883998422,-40.6965623329828,-40.7424894827011,-40.6933970997398,-40.7441521327217,-40.7268607830085,-40.7686105330861,-40.7003334998074,-40.5669227160489,-40.3980753833689,-40.2930346163214,-40.1765422327759,-40.1071686334006,-39.9854570661162,-39.8993730493337,-39.8579774497812,-39.7244787999056,-39.653146100114,-39.4862796832774,-39.4761503161982,-39.401065466581,-39.3582403665654,-39.2757990163096,-39.2336436335003,-39.1298299493616,-39.0678331830544,-39.0047909500201,-38.923704366338,-38.8652667999914,-38.7875171166311,-38.7745840666673,-38.750158566659,-38.6675035326607,-38.6245203666556,-38.639399033155,-38.5560422670198,-38.5422959832446,-38.4788807501445,-38.4876116162079,-38.5917750672203,-38.7500919668535,-38.8163002497247,-38.8598730996517,-38.9106842496727,-38.9868296998684,-38.9797105002429,-39.0812491668669,-39.1583628832968,-39.2759983495024,-39.2969341494396,-39.3003262165101,-39.2058951835182,-39.1798030168406,-39.115548083218,-39.1294486169037]}]],[[{"lng":[176.33276253349,176.267228400183,176.224487017583,176.154899234065,176.106925633451,176.06247941692,176.003310849804,175.961835883779,175.899294816757,175.811865650044,175.675583900734,175.58518594996,175.533100033117,175.433381416302,175.325406533484,175.236423100173,175.195284183578,175.216735033403,175.043268483566,174.924173882771,174.847847867082,174.912076183578,174.84435636702,174.785921437228,174.839045832862,174.705109599961,174.66078746668,174.623012999722,174.711288199763,174.794672150245,174.867167799271,174.846312016586,174.938811199179,174.989772533759,175.035492733743,175.136486700712,175.266658932695,175.371593716648,175.439643550552,175.473443566666,175.653222466794,175.690650115948,175.77010965014,175.764739183997,175.871636834196,176.02244929987,176.082334183401,176.211253483372,176.33276253349],"lat":[-40.697900799416,-40.7848636000785,-40.9064747168577,-40.9481505495627,-41.0152208993286,-41.1310157498429,-41.1717069160855,-41.2447749001051,-41.263295699946,-41.3596269993307,-41.4137952330758,-41.487372832698,-41.4965452334551,-41.568835716916,-41.6059589661807,-41.6051656500547,-41.5238026326986,-41.4315767334165,-41.3733172995721,-41.434702866697,-41.3594841327964,-41.2597096998983,-41.2288581497398,-41.2651837993434,-41.325258266261,-41.357110466716,-41.340375233043,-41.260325633351,-41.2199340172696,-41.1246902997312,-41.0867387663926,-41.0499113660407,-41.0003014665634,-40.8786943168908,-40.8516626997223,-40.7003334998074,-40.7686105330861,-40.7268607830085,-40.7441521327217,-40.6933970997398,-40.7424894827011,-40.6965623329828,-40.6988883998422,-40.7680905667094,-40.7779047333494,-40.7114886668745,-40.7081527160579,-40.6592102828478,-40.697900799416]}]],[[{"lng":[172.479030949819,172.444256900204,172.348260516017,172.235513800302,172.1330007499,172.094375383646,171.974953333456,171.915639166648,171.841774433461,171.763848766853,171.746369750711,171.69066966728,171.44922653414,171.411630450039,171.316264849941,171.237669015979,171.197689267427,171.079330766508,170.993271149153,170.937214367317,170.830348166594,170.70569891615,170.592312017226,170.528889117364,170.395291850712,170.322861434049,170.238421217139,170.098131417274,170.091407749954,169.965530866418,169.900034783336,169.699336634166,169.592780550635,169.591375933128,169.372957082297,169.275178699666,169.188798133306,169.147102432454,168.975078451156,168.96335649954,168.849166000554,168.836083532939,168.728392349302,168.625502799972,168.460041532736,168.334527917187,168.407363598795,168.349075433004,168.347349198927,168.224958950158,168.1319289655,168.052080299308,168.245224000031,168.327532100226,168.386086599038,168.512572866105,168.596033082782,168.709528882769,168.815458849903,168.888444332937,168.969334415735,169.209384000714,169.426815166859,169.59167065054,169.690794066988,169.793601633185,169.981233500255,170.050894783883,170.266101450359,170.257309000665,170.34165461676,170.420541400346,170.524388600502,170.720963766413,170.867846066505,170.947971800697,171.051014333038,171.167346766778,171.218172099769,171.304561750154,171.321142133862,171.417931516559,171.455980199127,171.462321733036,171.587717983286,171.670754701712,171.828431383484,171.882088466121,171.987652299441,172.063382449494,172.092597800296,172.111628817585,172.094501582949,172.133988150577,172.217804650849,172.229036100221,172.370078216958,172.310335033614,172.493938299216,172.485968450507,172.618004983595,172.657937583202,172.600312034113,172.584361567505,172.46311268413,172.418018282578,172.34245996745,172.320665484129,172.238130649319,172.247078967484,172.129322299744,172.115730567145,172.052126816993,172.135203666157,172.206730749948,172.26099479982,172.331950216583,172.335875833233,172.369593532568,172.479030949819],"lat":[-42.2770294331018,-42.3659640998714,-42.3913898493678,-42.4567272663214,-42.5552061664186,-42.6204476501529,-42.6389925162953,-42.6817304496183,-42.7745563165371,-42.7917224165052,-42.8740807000333,-42.9008274327487,-42.9092283835239,-42.950759216649,-42.9474959831915,-43.0025114832476,-43.0742574837314,-43.102300650144,-43.2153140832055,-43.2040572826524,-43.2835111333338,-43.3207865163982,-43.434014166647,-43.41035221676,-43.4980506000732,-43.4903493001037,-43.5138270161936,-43.5954793833291,-43.6603731668313,-43.7917623165842,-43.8129979662184,-43.9635462831413,-43.9580761662848,-44.0125360168529,-44.1169906667223,-44.0985810003063,-44.1105468993574,-44.0802167659312,-44.1440294839761,-44.199936332986,-44.2466723496502,-44.3399177501499,-44.4194781170877,-44.4339354666367,-44.4953348162634,-44.4967794329974,-44.375114782965,-44.3304824000169,-44.2842383168839,-44.2568242500963,-44.2811937826191,-44.2586477665919,-44.1580564167771,-44.0494656167805,-44.0035227664975,-44.0018953502124,-43.9725449329757,-43.9942465499117,-43.9674074836821,-43.9053743500885,-43.8784611500177,-43.7192994001206,-43.6253148330259,-43.5990183996295,-43.5430910166687,-43.4215250502158,-43.3578198495791,-43.2918990002289,-43.1725636158674,-43.1188153494437,-43.0966792499988,-43.036161432916,-43.0173943501819,-42.9301012999167,-42.8228048660285,-42.7232656999423,-42.650688316635,-42.5078089999824,-42.38101976624,-42.2672141667554,-42.1532471998936,-41.9177566328917,-41.8824885829434,-41.7497772332918,-41.7299331833209,-41.7398889758327,-41.6470442500159,-41.6006758828507,-41.4457266661766,-41.3840702160795,-41.2827791501859,-41.0257784662469,-40.9162500830626,-40.8506217828755,-40.774542766922,-40.8558806664317,-40.970752467169,-41.0135581163049,-41.0245242002209,-41.0542427327253,-41.1598956494172,-41.2391689995477,-41.3018332326644,-41.3761944999728,-41.4043775665214,-41.4716592493264,-41.5131613498066,-41.6102873667713,-41.6395180999667,-41.6842177167129,-41.7140016329479,-41.8684047996712,-41.9451821329827,-42.1040439833841,-42.0983147832208,-42.1483124834356,-42.1506392829357,-42.2342079660401,-42.2806025168197,-42.2770294331018]}]],[[{"lng":[174.048786900106,173.966599600681,173.892544684064,173.697996616623,173.671647083024,173.594467415866,173.509134350058,173.479398800221,173.368425849937,173.241651783235,173.14498353365,173.080542450878,172.816906899328,172.73369503355,172.704087800548,172.71511108423,172.776007199763,173.040053516148,173.102133650692,173.130149783874,173.100509666792,172.997729132882,172.836626966534,172.728520416444,172.587602799177,172.31661868302,172.028047117075,171.614830016684,171.439070166985,171.333436083013,171.244871200256,171.258240632396,171.195791149221,171.159184499413,171.167954350424,171.144153632672,170.882433150378,170.658825416631,170.636873433877,170.542436216333,170.447188600345,170.397211283578,170.349440716734,170.373258400943,170.31935306623,170.242072667455,170.094098767269,169.996618083493,169.944216317563,169.836191183413,169.757151799328,169.644210749049,169.633685649873,169.545884367463,169.577100816617,169.571069933852,169.71703741641,169.699336634166,169.900034783336,169.965530866418,170.091407749954,170.098131417274,170.238421217139,170.322861434049,170.395291850712,170.528889117364,170.592312017226,170.70569891615,170.830348166594,170.937214367317,170.993271149153,171.079330766508,171.197689267427,171.237669015979,171.316264849941,171.411630450039,171.44922653414,171.69066966728,171.746369750711,171.763848766853,171.841774433461,171.915639166648,171.974953333456,172.094375383646,172.1330007499,172.235513800302,172.348260516017,172.444256900204,172.479030949819,172.614713433524,172.639183050117,172.721472999322,172.7216385824,172.823290099099,172.84243633332,172.914144833248,172.94139345023,172.992906316788,173.035789000756,173.189895532864,173.24452471748,173.312201366903,173.464463350147,173.499107499943,173.720210166329,173.744379950814,173.817253667021,173.955504883873,174.048786900106],"lat":[-41.9681092162646,-42.0447000162222,-42.1892206160537,-42.3510559327565,-42.4129525826812,-42.4284450168009,-42.5056333005132,-42.5927161833282,-42.7988198827147,-42.9528653661391,-42.9864308666849,-43.0507309163817,-43.1332584499975,-43.2550360161799,-43.3903552166644,-43.5479150830902,-43.5827193328042,-43.6552001167668,-43.6956743333898,-43.7627759999603,-43.8318133828904,-43.8873741827173,-43.8897602829967,-43.8276729498342,-43.8332652162497,-43.867088416516,-43.9583162998822,-44.1318285168831,-44.2233021661721,-44.2951907165708,-44.3817173994063,-44.4457059831107,-44.5267523667682,-44.6278346999366,-44.8761730664355,-44.9403990326692,-44.8910093998382,-44.9092402835565,-44.9513015836403,-44.9850467672386,-45.0659566666375,-45.0809043668126,-45.0216976998938,-44.952776016064,-44.9030489828625,-44.9307172500718,-44.9400199335113,-44.8215735834641,-44.6539842168892,-44.6688994161829,-44.6121328160996,-44.5858154998365,-44.4624053000104,-44.4226623997473,-44.3456657832859,-44.1772291501172,-44.0382773160894,-43.9635462831413,-43.8129979662184,-43.7917623165842,-43.6603731668313,-43.5954793833291,-43.5138270161936,-43.4903493001037,-43.4980506000732,-43.41035221676,-43.434014166647,-43.3207865163982,-43.2835111333338,-43.2040572826524,-43.2153140832055,-43.102300650144,-43.0742574837314,-43.0025114832476,-42.9474959831915,-42.950759216649,-42.9092283835239,-42.9008274327487,-42.8740807000333,-42.7917224165052,-42.7745563165371,-42.6817304496183,-42.6389925162953,-42.6204476501529,-42.5552061664186,-42.4567272663214,-42.3913898493678,-42.3659640998714,-42.2770294331018,-42.1954626498853,-42.100794682948,-42.1034917994144,-42.1586981838838,-42.2047070167556,-42.2891840664554,-42.3086089000796,-42.3778250335189,-42.4038495339355,-42.4834705328753,-42.4105463995064,-42.3031041161591,-42.2503815997009,-42.1956736999058,-42.0787366833914,-41.9607712162509,-41.9073832665118,-41.9329969833555,-41.9126783171107,-41.9681092162646]}]],[[{"lng":[169.699336634166,169.71703741641,169.571069933852,169.577100816617,169.545884367463,169.633685649873,169.644210749049,169.757151799328,169.836191183413,169.944216317563,169.996618083493,170.094098767269,170.242072667455,170.31935306623,170.373258400943,170.349440716734,170.397211283578,170.447188600345,170.542436216333,170.636873433877,170.658825416631,170.882433150378,171.144153632672,171.100528099082,170.973751149775,170.904456867088,170.831473232453,170.831145883379,170.75579789982,170.725243549953,170.653058832418,170.600894433297,170.658593699997,170.663784716405,170.511765316615,170.297526650457,170.196885316544,170.168560666662,169.923941867013,169.798088316601,169.797051965829,169.587586633489,169.477118166607,169.404843300495,169.279166266414,169.200940883149,169.250660233484,169.172959832917,169.195997516617,169.134143867466,169.190826583046,169.198060700759,169.159619899649,169.153328134215,169.067252783254,169.091515616554,169.00519949925,168.993372050492,169.129045084084,169.140231617195,169.211048582416,169.099293032989,169.065469000252,168.959565366235,168.88690013254,168.78245703227,168.751634949745,168.692215200617,168.674105117399,168.539401382992,168.323294049703,168.300759133193,168.217006498699,168.284206182425,168.292267949264,168.133993849733,168.117214416135,168.191001933063,168.172333382998,168.234509799649,168.334527917187,168.460041532736,168.625502799972,168.728392349302,168.836083532939,168.849166000554,168.96335649954,168.975078451156,169.147102432454,169.188798133306,169.275178699666,169.372957082297,169.591375933128,169.592780550635,169.699336634166],"lat":[-43.9635462831413,-44.0382773160894,-44.1772291501172,-44.3456657832859,-44.4226623997473,-44.4624053000104,-44.5858154998365,-44.6121328160996,-44.6688994161829,-44.6539842168892,-44.8215735834641,-44.9400199335113,-44.9307172500718,-44.9030489828625,-44.952776016064,-45.0216976998938,-45.0809043668126,-45.0659566666375,-44.9850467672386,-44.9513015836403,-44.9092402835565,-44.8910093998382,-44.9403990326692,-45.0030083668311,-45.0991354496446,-45.1744155169318,-45.3055600328616,-45.4735115163292,-45.5334878502003,-45.5959489167714,-45.6310545499711,-45.7107696833627,-45.7588499501476,-45.9035087330446,-45.9091708334976,-45.9623933001854,-46.0625319333923,-46.1545419165179,-46.2983543338468,-46.3546976165361,-46.4513536994124,-46.5657448494185,-46.5613084168585,-46.612326249574,-46.6224137668428,-46.5607098329384,-46.5143265833878,-46.4861186664512,-46.4044065827567,-46.3754392332203,-46.3264038994531,-46.2126295493632,-46.175637150073,-46.04874471621,-45.9804276164781,-45.882556116601,-45.8634921999957,-45.7285384168417,-45.5203341827282,-45.4652520830163,-45.416771999385,-45.3199457495541,-45.2696099000556,-45.3591220831272,-45.4628204660881,-45.4370390834154,-45.3675663496802,-45.3396697501243,-45.2430717497138,-45.3093267168891,-45.3275431668485,-45.2246531168759,-45.1445409498591,-45.1061745334867,-45.0438246332288,-44.941441066775,-44.8714499496131,-44.7667900998971,-44.7045591835111,-44.5431956997936,-44.4967794329974,-44.4953348162634,-44.4339354666367,-44.4194781170877,-44.3399177501499,-44.2466723496502,-44.199936332986,-44.1440294839761,-44.0802167659312,-44.1105468993574,-44.0985810003063,-44.1169906667223,-44.0125360168529,-43.9580761662848,-43.9635462831413]}]],[[{"lng":[168.334527917187,168.234509799649,168.172333382998,168.191001933063,168.117214416135,168.133993849733,168.292267949264,168.284206182425,168.217006498699,168.300759133193,168.323294049703,168.539401382992,168.674105117399,168.692215200617,168.751634949745,168.78245703227,168.88690013254,168.959565366235,169.065469000252,169.099293032989,169.211048582416,169.140231617195,169.129045084084,168.993372050492,169.00519949925,169.091515616554,169.067252783254,169.153328134215,169.159619899649,169.198060700759,169.190826583046,169.134143867466,169.195997516617,169.172959832917,169.250660233484,169.200940883149,169.279166266414,169.22036591599,169.112977633915,169.005877783088,168.847240616637,168.793966399601,168.602963450626,168.515573883226,168.352956367462,168.265940499968,168.26360971254,168.190226399742,168.06494099935,168.015834933344,167.931857766403,167.783985415679,167.697388533509,167.712351199088,167.611463132559,167.53328326551,167.403100265785,167.36041789911,167.217213498612,167.105668632816,166.85248326508,166.778670298321,166.657467513834,166.618782631882,166.682766415625,166.698540013858,166.615138531335,166.611146481073,166.555778430931,166.449630281668,166.426302914574,166.450324479865,166.518401048488,166.622173080915,166.804038747773,166.730721582164,166.751807813934,166.731030032183,166.671602280962,166.684135131589,166.844406780597,166.908979298452,167.007590898471,166.967797181292,167.002267430718,167.271321765735,167.500637449284,167.571723433206,167.751370432539,167.817211299564,167.827906549916,167.87268493277,167.973286216338,168.008558299815,168.097524282888,168.052080299308,168.1319289655,168.224958950158,168.347349198927,168.349075433004,168.407363598795,168.334527917187],"lat":[-44.4967794329974,-44.5431956997936,-44.7045591835111,-44.7667900998971,-44.8714499496131,-44.941441066775,-45.0438246332288,-45.1061745334867,-45.1445409498591,-45.2246531168759,-45.3275431668485,-45.3093267168891,-45.2430717497138,-45.3396697501243,-45.3675663496802,-45.4370390834154,-45.4628204660881,-45.3591220831272,-45.2696099000556,-45.3199457495541,-45.416771999385,-45.4652520830163,-45.5203341827282,-45.7285384168417,-45.8634921999957,-45.882556116601,-45.9804276164781,-46.04874471621,-46.175637150073,-46.2126295493632,-46.3264038994531,-46.3754392332203,-46.4044065827567,-46.4861186664512,-46.5143265833878,-46.5607098329384,-46.6224137668428,-46.656223099872,-46.6445697998936,-46.6743386331633,-46.6586199329358,-46.5811262500882,-46.5519047497942,-46.5742984501617,-46.5362781992669,-46.5559335326646,-46.4953184340233,-46.3853629167499,-46.3392979665928,-46.3838269830026,-46.3581014999452,-46.3890891171229,-46.307961466909,-46.2576959503765,-46.1914227661012,-46.16240946673,-46.1520754166419,-46.2369484002097,-46.2625064668733,-46.25366113273,-46.2084794827791,-46.222072183102,-46.20228694959,-46.1487916665506,-46.115505482954,-46.05823409979,-46.0600605832903,-45.9997223499968,-45.9746464495691,-45.9949010500723,-45.9044508994386,-45.818964083446,-45.794390016666,-45.7910534165939,-45.759831816707,-45.7281351169409,-45.6676932499871,-45.5947802672105,-45.574992932913,-45.5132728166055,-45.2758819164536,-45.3074377165583,-45.3141696665502,-45.1937010839229,-45.1255542171957,-44.8704801002207,-44.7480579001324,-44.6858730830295,-44.5806611495955,-44.5991209997801,-44.5075593496395,-44.4342743666374,-44.3866309826956,-44.3250568994953,-44.327164299694,-44.2586477665919,-44.2811937826191,-44.2568242500963,-44.2842383168839,-44.3304824000169,-44.375114782965,-44.4967794329974]}],[{"lng":[167.869696716553,167.976547566294,168.001210732076,168.141792199061,168.141009317838,168.031908183908,167.978834599659,168.150523283786,168.214668599019,168.15639086674,167.954351350313,167.825699751352,167.710747198798,167.636122349395,167.646031498693,167.466622084097,167.466427316638,167.575995200266,167.579121549914,167.649750531859,167.694039966266,167.759027315244,167.756471366353,167.704121799979,167.754640632138,167.869696716553],"lat":[-46.6842310166752,-46.7237613987849,-46.785762665437,-46.8618585329575,-46.909408299092,-46.8968874826732,-46.928878233435,-46.9664681179055,-46.9944344838292,-47.1041435162499,-47.1292745649547,-47.1913799838493,-47.1604565164636,-47.2102895331876,-47.2637216324405,-47.2828524160058,-47.2165166326058,-47.16624331603,-47.0853388999095,-47.0364652490045,-46.967082999694,-46.9370851821983,-46.860982265505,-46.7544420165422,-46.6946847164946,-46.6842310166752]}],[{"lng":[166.678832281489,166.716482698834,166.723640182258,166.684653831234,166.588378964322,166.536803814148,166.678832281489],"lat":[-45.6003756001343,-45.6245835332561,-45.6992354496554,-45.7481735831086,-45.7207469668143,-45.6343713996404,-45.6003756001343]}],[{"lng":[166.962425848418,166.949393049243,166.987792331855,166.947416381365,166.868999981552,166.962425848418],"lat":[-45.1477982831904,-45.2031774998176,-45.2585408501287,-45.2941630663986,-45.2405394834619,-45.1477982831904]}]],[[{"lng":[173.198887399729,173.297443983366,173.250831384127,173.304149350489,173.168700533592,173.151614666983,173.086652616993,173.003789650797,172.926235200656,172.847570550194,172.86109313253,172.735298849099,172.721472999322,172.639183050117,172.614713433524,172.479030949819,172.369593532568,172.335875833233,172.331950216583,172.26099479982,172.206730749948,172.135203666157,172.052126816993,172.115730567145,172.129322299744,172.247078967484,172.238130649319,172.320665484129,172.34245996745,172.418018282578,172.46311268413,172.584361567505,172.600312034113,172.657937583202,172.618004983595,172.485968450507,172.493938299216,172.310335033614,172.370078216958,172.229036100221,172.217804650849,172.292207984059,172.447285383514,172.60562558292,172.642595651343,172.728820134899,172.688014218755,172.692504033943,172.798009667228,172.886338016923,172.990330217499,173.063517816826,173.012366349789,173.033520217139,173.009530717519,173.06578501716,173.104255083169,173.198887399729],"lat":[-41.3306196997791,-41.3931415162841,-41.4665801165597,-41.5060320836021,-41.5311546995344,-41.5854709831824,-41.6249252333708,-41.7248032669465,-41.7577336161561,-41.8742874663503,-41.922462966173,-42.0578953163068,-42.1034917994144,-42.100794682948,-42.1954626498853,-42.2770294331018,-42.2806025168197,-42.2342079660401,-42.1506392829357,-42.1483124834356,-42.0983147832208,-42.1040439833841,-41.9451821329827,-41.8684047996712,-41.7140016329479,-41.6842177167129,-41.6395180999667,-41.6102873667713,-41.5131613498066,-41.4716592493264,-41.4043775665214,-41.3761944999728,-41.3018332326644,-41.2391689995477,-41.1598956494172,-41.0542427327253,-41.0245242002209,-41.0135581163049,-40.970752467169,-40.8558806664317,-40.774542766922,-40.7473438326445,-40.6295302334271,-40.5644542999246,-40.5081192334842,-40.5290822657834,-40.5827790489968,-40.727883200224,-40.8162795663944,-40.832379632699,-40.7811902663518,-40.9057494657392,-40.9921395165867,-41.0887589498834,-41.1437780995651,-41.1838260998853,-41.2901597329138,-41.3306196997791]}]],[[{"lng":[173.297443983366,173.198887399729,173.221776466012,173.310618882688,173.32361723313,173.412776467452,173.461631133591,173.593891449768,173.568365816496,173.523007850712,173.415419299657,173.40678916666,173.297443983366],"lat":[-41.3931415162841,-41.3306196997791,-41.2930119000107,-41.2507582163573,-41.2037450165945,-41.1494512164174,-41.166853316328,-41.0511199330342,-41.1897309661648,-41.1979918667514,-41.2891416995075,-41.3309583501785,-41.3931415162841]}]],[[{"lng":[174.048786900106,173.955504883873,173.817253667021,173.744379950814,173.720210166329,173.499107499943,173.464463350147,173.312201366903,173.24452471748,173.189895532864,173.035789000756,172.992906316788,172.94139345023,172.914144833248,172.84243633332,172.823290099099,172.7216385824,172.721472999322,172.735298849099,172.86109313253,172.847570550194,172.926235200656,173.003789650797,173.086652616993,173.151614666983,173.168700533592,173.304149350489,173.250831384127,173.297443983366,173.40678916666,173.415419299657,173.523007850712,173.568365816496,173.593891449768,173.673303050289,173.802376834404,173.85077169915,173.868127116147,173.93680894915,173.993088400438,174.079004183599,174.17580193353,174.219448550258,174.12449421688,174.133062266944,174.048447900196,174.033535683903,174.072046116608,174.150420350879,174.15696061672,174.198299267036,174.275035250512,174.196758333519,174.048786900106],"lat":[-41.9681092162646,-41.9126783171107,-41.9329969833555,-41.9073832665118,-41.9607712162509,-42.0787366833914,-42.1956736999058,-42.2503815997009,-42.3031041161591,-42.4105463995064,-42.4834705328753,-42.4038495339355,-42.3778250335189,-42.3086089000796,-42.2891840664554,-42.2047070167556,-42.1586981838838,-42.1034917994144,-42.0578953163068,-41.922462966173,-41.8742874663503,-41.7577336161561,-41.7248032669465,-41.6249252333708,-41.5854709831824,-41.5311546995344,-41.5060320836021,-41.4665801165597,-41.3931415162841,-41.3309583501785,-41.2891416995075,-41.1979918667514,-41.1897309661648,-41.0511199330342,-41.0342675989915,-40.9722475322947,-41.0223203830977,-41.1442067667642,-41.0834601826368,-41.1021083834405,-41.016276216295,-40.9990567827128,-41.0713428828276,-41.2362538666924,-41.2853295661891,-41.3931097327586,-41.4763469339475,-41.5239591995643,-41.5594337667529,-41.6476697164152,-41.7232352500816,-41.7428873668597,-41.835604316821,-41.9681092162646]}],[{"lng":[173.956358883868,173.960139751383,173.90531894827,173.813983967132,173.772206384172,173.805729534265,173.93662750116,173.956358883868],"lat":[-40.6928282325892,-40.7644749495549,-40.857230999874,-40.930467433164,-40.8619594325141,-40.8027343164422,-40.7475060664529,-40.6928282325892]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[[-44.5945966451212,-44.625672452299,-44.6223643789721,-44.3842107834385,-43.6934507381853,-43.6044734372997,-43.5982227462525,-43.5636535301091,-43.5589991268821,-43.5575827158805,-43.5523856096095,-43.5395246700628,-43.5513665983152,-43.5506258018572,-43.5416702230537,-43.5381849959194,-43.588549422093,-43.5873069508566,-43.5834764966549,-43.57751195127,-43.5623835866028,-43.5543715900262,-43.5329211040314,-43.530887737815,-43.5243123957998,-43.5261856390487,-43.5238953892356,-43.5170724231126,-43.5115110401245,-43.5100237618028,-43.508569955066,-43.5096527119703,-43.5080719416872,-43.5055300941424,-43.5036148339303,-43.4950056624883,-43.554570955908,-43.5476049419188,-43.5401261359576,-43.5921648217982,-43.5335244626854,-43.5270454107222,-43.5268360900644,-43.5008906230899,-43.5023751944396,-43.4916700712233,-43.4901439479552,-43.4877516681132,-43.4817296248765,-43.4780907989607,-43.473607301225,-43.7452724130842,-43.682490719677,-43.6798654361241,-43.6755713408585,-43.6014335863421,-43.597130093755,-43.5956641958602,-43.593447804275,-43.5956770402431,-43.5893493244207,-43.6219523338216,-43.6087036527907,-43.6031867839284,-43.5950626894704,-43.5894492983209,-43.6858920165368,-43.598413662828,-43.5902430823677,-43.5876267094077,-43.5850879767322,-43.5782887004652,-43.5696517250696,-43.573636892848,-43.5709452668165,-43.5733754628026,-43.5727820175314,-43.5716999733324,-43.5657312643756,-43.5597236977103,-43.5701421207864,-43.552165899949,-43.5500303501836,-43.5553196462348,-43.5598229976381,-43.5569626366116,-43.5518467855589,-43.464914783762,-43.4620037098722,-43.3569370576204,-43.3578411319192,-43.3333445189423,-42.0093918089297,-42.0004824551037,-41.9959336912244,-41.9851144343863,-39.28945301499,-39.2863022222039,-39.2758823113195,-39.267007290301,-39.2663754613664],[168.012542330284,168.395386095971,168.410637634779,168.727931476633,170.247325027129,170.391278965604,170.40029807208,170.18127707633,170.17784749822,170.187170011921,170.184551891059,170.193622566046,170.199667935054,170.201668460829,170.202444887803,170.209663478347,170.274715176569,170.278546116384,170.284554759651,170.291728610275,170.304892142916,170.301251586321,170.214169509882,170.214215005439,170.205704030354,170.209163213839,170.22104956457,170.26512637506,170.266508911015,170.253849198547,170.272543580528,170.274325882916,170.279563851679,170.2848434639,170.289744424629,170.311773276959,170.329315919519,170.338381706814,170.345406817727,170.400541627754,170.347518773008,170.33979956207,170.348069737215,170.347606892716,170.34925390822,170.316320240239,170.322329374546,170.331196739591,170.328118343735,170.32271427041,170.322693728727,169.984566374909,170.042176448312,170.052958356019,170.063923646544,170.092139101641,170.097444475833,170.09866368022,170.104737654643,170.126470008758,170.11539508517,170.143267028748,170.139782293194,170.144191742524,170.142157676444,170.139934477224,170.037948763325,170.142795696748,170.153074720566,170.129100869345,170.141822374627,170.145262327618,170.138675421283,170.146777989351,170.142175051933,170.150616506625,170.153445057734,170.15769755406,170.15721557797,170.14643498483,170.157883947095,170.160321747095,170.160459582911,170.176553389184,170.169640784267,170.176945198563,170.554839106613,170.58167010842,170.581897650341,170.978249961213,170.982992866362,171.010244459326,173.637494470095,173.654615064641,173.662841989691,173.661780053132,175.562673673845,175.558254506582,175.558071898258,175.576324206406,175.578961955379],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-47.2828524160058,-34.4145187168354],"lng":[166.426302914574,178.550373601283]}},"evals":[],"jsHooks":[]}</script>
]

---

# Geospatial data and interactive tools: the map widget

.pull-left[

* &lt;u&gt;Adding backgroud&lt;/u&gt; with `addTiles()`
    

```r
library(leaflet)
library(spData)

# Creating widget:
m &lt;- leaflet() %&gt;%  # empty map
* addTiles() %&gt;% # add the background
  addMarkers(data = nz_height) %&gt;%  # add points
m  # Print the map
```

* &lt;r&gt;Standard source:&lt;/r&gt; Open Street Maps

]
.pull-right[
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-47a3a65b2b6b975a0260" style="width:504px;height:504px;"></div>
<script type="application/json" data-for="htmlwidget-47a3a65b2b6b975a0260">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[-44.5945966451212,-44.625672452299,-44.6223643789721,-44.3842107834385,-43.6934507381853,-43.6044734372997,-43.5982227462525,-43.5636535301091,-43.5589991268821,-43.5575827158805,-43.5523856096095,-43.5395246700628,-43.5513665983152,-43.5506258018572,-43.5416702230537,-43.5381849959194,-43.588549422093,-43.5873069508566,-43.5834764966549,-43.57751195127,-43.5623835866028,-43.5543715900262,-43.5329211040314,-43.530887737815,-43.5243123957998,-43.5261856390487,-43.5238953892356,-43.5170724231126,-43.5115110401245,-43.5100237618028,-43.508569955066,-43.5096527119703,-43.5080719416872,-43.5055300941424,-43.5036148339303,-43.4950056624883,-43.554570955908,-43.5476049419188,-43.5401261359576,-43.5921648217982,-43.5335244626854,-43.5270454107222,-43.5268360900644,-43.5008906230899,-43.5023751944396,-43.4916700712233,-43.4901439479552,-43.4877516681132,-43.4817296248765,-43.4780907989607,-43.473607301225,-43.7452724130842,-43.682490719677,-43.6798654361241,-43.6755713408585,-43.6014335863421,-43.597130093755,-43.5956641958602,-43.593447804275,-43.5956770402431,-43.5893493244207,-43.6219523338216,-43.6087036527907,-43.6031867839284,-43.5950626894704,-43.5894492983209,-43.6858920165368,-43.598413662828,-43.5902430823677,-43.5876267094077,-43.5850879767322,-43.5782887004652,-43.5696517250696,-43.573636892848,-43.5709452668165,-43.5733754628026,-43.5727820175314,-43.5716999733324,-43.5657312643756,-43.5597236977103,-43.5701421207864,-43.552165899949,-43.5500303501836,-43.5553196462348,-43.5598229976381,-43.5569626366116,-43.5518467855589,-43.464914783762,-43.4620037098722,-43.3569370576204,-43.3578411319192,-43.3333445189423,-42.0093918089297,-42.0004824551037,-41.9959336912244,-41.9851144343863,-39.28945301499,-39.2863022222039,-39.2758823113195,-39.267007290301,-39.2663754613664],[168.012542330284,168.395386095971,168.410637634779,168.727931476633,170.247325027129,170.391278965604,170.40029807208,170.18127707633,170.17784749822,170.187170011921,170.184551891059,170.193622566046,170.199667935054,170.201668460829,170.202444887803,170.209663478347,170.274715176569,170.278546116384,170.284554759651,170.291728610275,170.304892142916,170.301251586321,170.214169509882,170.214215005439,170.205704030354,170.209163213839,170.22104956457,170.26512637506,170.266508911015,170.253849198547,170.272543580528,170.274325882916,170.279563851679,170.2848434639,170.289744424629,170.311773276959,170.329315919519,170.338381706814,170.345406817727,170.400541627754,170.347518773008,170.33979956207,170.348069737215,170.347606892716,170.34925390822,170.316320240239,170.322329374546,170.331196739591,170.328118343735,170.32271427041,170.322693728727,169.984566374909,170.042176448312,170.052958356019,170.063923646544,170.092139101641,170.097444475833,170.09866368022,170.104737654643,170.126470008758,170.11539508517,170.143267028748,170.139782293194,170.144191742524,170.142157676444,170.139934477224,170.037948763325,170.142795696748,170.153074720566,170.129100869345,170.141822374627,170.145262327618,170.138675421283,170.146777989351,170.142175051933,170.150616506625,170.153445057734,170.15769755406,170.15721557797,170.14643498483,170.157883947095,170.160321747095,170.160459582911,170.176553389184,170.169640784267,170.176945198563,170.554839106613,170.58167010842,170.581897650341,170.978249961213,170.982992866362,171.010244459326,173.637494470095,173.654615064641,173.662841989691,173.661780053132,175.562673673845,175.558254506582,175.558071898258,175.576324206406,175.578961955379],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-44.625672452299,-39.2663754613664],"lng":[168.012542330284,175.578961955379]}},"evals":[],"jsHooks":[]}</script>
]

---
class: inverse, center, middle
count: false

# Your turn: Hands-on

---

# Hands-on: your turn! (1/2)

.pull-left[
Calculating **climate change** in USA

- Use the `us_states` data on the geography of US states

- Combine it with the SPEI index:
    - Retrieve average SPEI index across states
    - Do so for 3-4 different years

- Visualize it:

]
.pull-right[
.center[
&lt;img src="figs/raster03.png" style="width: 100%" /&gt;&lt;br&gt;
&lt;img src="figs/raster04.png" style="width: 100%" /&gt;
]
]

---

# Hands-on: your turn! (2/2)

.pull-left[
Geography and **bilateral distances** in Spain

- Use the `ne_10m_populated_places` shapefile to retrieve the **10 top-populated places** in Spain

- Crop the elevation data from `MSR_50M.tif` raster with Spain

- Visualize them together with `plot()` function

- Calculate the path and distance between Madrid and Vigo
    - Hint: approx. 640 km!


]
.pull-right[
.center[
&lt;img src="figs/raster05.png" style="width: 100%" /&gt;
]
]

---
counter: false

# Hands-on: your turn! (2/2)

.pull-left[
Geography and **bilateral distances** in Spain

- Use the `ne_10m_populated_places` shapefile to retrieve the **10 top-populated places** in Spain

- Crop the elevation data from `MSR_50M.tif` raster with Spain

- Visualize them together with `plot()` function

- Calculate the path and distance between Madrid and Vigo
    - Hint: approx. 640 km!


]
.pull-right[
.center[
&lt;img src="figs/raster06.png" style="width: 100%" /&gt;
]
]

---
class: inverse, center, middle
count: false

# Your turn: Take-home

# Assignment

---

# Take-home assignment (1/2)

.pull-left[
Calculating **climate change** in USA

- Use the `us_states` data on the geography of US states

- Retrieve average SPEI index across **regions** for the past 50 years

- Retrieve the dataset as a panel (time series for each region)

- Plot the evolution of the SPEI index for each region
    - `geom_smooth()`: calculate the average across regions

]
.pull-right[
.center[
&lt;img src="figs/raster09.png" style="width: 100%" /&gt;
]
]

---

# Take-home assignment (2/2)

.pull-left[
&lt;g&gt;Transportation centrality&lt;/g&gt; and isolation in Spain

- Use the `ne_10m_populated_places` shapefile to retrieve the **10 top-populated places**

- Crop the `ne_10m_roads` road data within Spain

- Build a raster/friction surface; calculate distances between **all city pairs**

- Bilateral distances if coming from Madrid vs. Vigo: &lt;r&gt;who is more isolated?&lt;/r&gt;
    - `geom_density()`: calculates "smoothed" distributions
]
.pull-right[
.center[
&lt;img src="figs/raster07.png" style="width: 100%" /&gt;
]
]

---
counter: false

# Take-home assignment (2/2)

.pull-left[
&lt;g&gt;Transportation centrality&lt;/g&gt; and isolation in Spain

- Use the `ne_10m_populated_places` shapefile to retrieve the **10 top-populated places**

- Crop the `ne_10m_roads` road data within Spain

- Build a raster/friction surface; calculate distances between **all city pairs**

- Bilateral distances if coming from Madrid vs. Vigo: &lt;r&gt;who is more isolated?&lt;/r&gt;
    - `geom_density()`: calculates "smoothed" distributions
]
.pull-right[
.center[
&lt;img src="figs/raster08.png" style="width: 100%" /&gt;
]
]



    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
